# 오프라인 전용 기업 역할 설정 가이드

## 📋 역할 생성 정보

### 기본 정보
- **역할 이름**: `오프라인전용기업`
- **설명**: `고객에게 정보를 온라인 오픈하지 않고 자체적으로만 사용하는 기업`
- **기반 템플릿**: 선택 안 함 (처음부터 설정)

---

## ✅ 선택할 권한 (체크)

### 고객사 관리
- ✅ **전체탭 보기** - 고객사 목록 전체 탭 접근
- ✅ **고객사 조회** - 고객사 정보 조회
- ✅ **일괄업로드** - CSV 파일로 고객사 일괄 등록
- ✅ **Excel 내보내기** - 고객사 목록 Excel 다운로드

---

## ❌ 선택하지 않을 권한 (체크 해제)

### 고객사 관리 - 연결 관련 (차단)
- ❌ 내부탭 보기 - 내부 관리용 고객사 탭
- ❌ 연결탭 보기 - 온라인 연결된 고객사 탭
- ❌ 검색탭 보기 - 고객사 검색 탭
- ❌ 고객사 등록 - 개별 고객사 신규 등록
- ❌ 고객사 수정 - 고객사 정보 수정
- ❌ 고객사 삭제 - 고객사 삭제
- ❌ 활성화/비활성화 - 고객사 상태 변경
- ❌ 검색 기능 - 고객사 검색
- ❌ 필터 기능 - 비활성 표시 등 필터
- ❌ 고객사 초대 - 고객사에 초대 링크 발송

### 굴뚝 관리 (선택 사항)
- 필요시 ✅ 굴뚝 조회
- ❌ 굴뚝 등록/수정/삭제

### 측정 데이터 (선택 사항)
- 필요시 ✅ 측정 데이터 조회
- 필요시 ✅ 측정 데이터 입력
- ❌ 측정 데이터 수정/삭제
- 필요시 ✅ 측정 데이터 내보내기

### 사용자 관리 (차단)
- ❌ 사용자 조회/등록/수정/삭제

### 보고서 (차단)
- ❌ 보고서 조회/생성/수정/삭제

### 설정 (차단)
- ❌ 설정 조회/변경

---

## 🔍 각 기능이 어디에 있는지

### 환경측정기업 전용 기능
```
고객사 관리 (전체)
├─ 전체탭 보기 (/masters/customers - 전체탭)
├─ 내부탭 보기 (/masters/customers - 내부탭)
├─ 연결탭 보기 (/masters/customers - 연결탭)
├─ 검색탭 보기 (/masters/customers - 검색탭)
├─ 고객사 조회/등록/수정/삭제 (/masters/customers)
├─ 일괄업로드 (/masters/customers - 일괄업로드 버튼)
├─ Excel 내보내기 (/masters/customers - Excel 버튼)
└─ 고객사 초대 (/masters/customers - 초대 링크 버튼)

굴뚝 관리 (환경측정기업)
└─ /masters/stacks - 굴뚝 조회/등록/수정/삭제

측정 데이터 (환경측정기업)
├─ /measure/input - 측정 데이터 입력
├─ /measure/history - 측정 데이터 조회
└─ 측정 데이터 내보내기 (각 페이지 내 Excel 버튼)

사용자 관리 (환경측정기업)
└─ /org/settings/users - 사용자 조회/등록/수정/삭제

설정 (환경측정기업)
└─ /org/settings - 조직 설정
```

### 고객사 전용 기능
```
굴뚝 관리 (고객사)
└─ /customer/stacks - 자사 굴뚝 조회/등록/수정

측정 데이터 (고객사)
└─ /customer/measurements - 자사 측정 데이터 조회

보고서 (고객사)
└─ /report - 보고서 조회/생성
```

### 시스템 관리자 전용
```
사용자 관리
└─ /admin/users - 전체 사용자 관리

고객사 관리
└─ /admin/customers - 전체 고객사 관리

설정 관리
└─ /admin/settings - 시스템 설정
```

---

## 🎯 오프라인 전용 기업의 특징

### 허용되는 작업
1. **일괄업로드로만 고객사 등록** - CSV 파일 업로드
2. **전체 탭에서 고객사 조회** - 목록 확인
3. **Excel 다운로드** - 데이터 백업

### 차단되는 작업
1. **개별 고객사 신규 등록** - "신규 추가" 버튼 숨김
2. **고객사 정보 수정** - "수정" 버튼 숨김
3. **고객사 초대** - "초대 링크" 버튼 숨김
4. **내부/연결/검색 탭** - 탭 자체가 보이지 않음
5. **검색 기능** - 검색창 숨김
6. **필터 기능** - 비활성 표시 체크박스 숨김

---

## 📝 역할 생성 단계별 가이드

### Step 1: 역할 관리 페이지 접속
```
로그인 → 설정 → 역할 관리 (/org/settings/roles)
```

### Step 2: 역할 생성 버튼 클릭
```
"+ 역할 생성" 버튼 클릭
```

### Step 3: 기본 정보 입력
```
역할 이름: 오프라인전용기업
설명: 고객에게 정보를 온라인 오픈하지 않고 자체적으로만 사용하는 기업
기반 템플릿: (선택 안 함)
```

### Step 4: 권한 선택
```
고객사 관리 섹션에서:
✅ 전체탭 보기
✅ 고객사 조회
✅ 일괄업로드
✅ Excel 내보내기

나머지 모두 체크 해제
```

### Step 5: 역할 생성
```
"역할 생성" 버튼 클릭
```

### Step 6: 사용자에게 역할 할당
```
설정 → 사용자 관리 → 사용자 선택 → 역할 변경 → "오프라인전용기업" 선택
```

---

## ⚠️ 주의사항

1. **기반 템플릿 선택 시**: 템플릿의 권한이 자동 선택되지만, 수동으로 조정 가능
2. **권한 변경 후**: 사용자는 로그아웃/재로그인 필요
3. **최소 권한 원칙**: 필요한 권한만 부여
4. **테스트 필수**: 역할 생성 후 테스트 계정으로 확인

---

## 🔧 문제 해결

### Q: 기반 템플릿을 선택했는데 권한이 자동 선택되지 않아요
A: 템플릿 선택 후 권한이 자동으로 체크됩니다. 안 되면 수동으로 선택하세요.

### Q: 역할을 만들었는데 화면에 반영이 안 돼요
A: 사용자에게 역할을 할당하고, 로그아웃 후 재로그인하세요.

### Q: 일부 기능만 보이게 하고 싶어요
A: 해당 권한만 체크하고 나머지는 모두 해제하세요.
