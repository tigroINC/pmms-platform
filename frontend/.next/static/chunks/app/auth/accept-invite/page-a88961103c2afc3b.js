(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8562],{8953:function(e,t,r){Promise.resolve().then(r.bind(r,97))},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},97:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(7437),s=r(2265),n=r(9376),l=r(2827),i=r(6334);function c(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),r=null==t?void 0:t.get("token"),[c,d]=(0,s.useState)(!0),[u,o]=(0,s.useState)(null),[x,h]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r?y():d(!1)},[r]);let y=async()=>{try{let e=await fetch("/api/auth/verify-invite?token=".concat(r)),t=await e.json();e.ok?o(t):alert(t.error||"유효하지 않은 초대 링크입니다.")}catch(e){alert("초대 정보를 확인하는 중 오류가 발생했습니다.")}finally{d(!1)}},j=async t=>{if(t.preventDefault(),x.length<8){alert("비밀번호는 최소 8자 이상이어야 합니다.");return}if(x!==m){alert("비밀번호가 일치하지 않습니다.");return}try{f(!0);let t=await fetch("/api/auth/accept-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,password:x})}),a=await t.json();t.ok?(alert("계정이 활성화되었습니다. 로그인해주세요."),e.push("/login")):alert(a.error||"계정 활성화에 실패했습니다.")}catch(e){alert("계정 활성화 중 오류가 발생했습니다.")}finally{f(!1)}};return c?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)("div",{className:"text-gray-500",children:"로딩 중..."})}):r&&u?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"\uD83C\uDF89 초대를 환영합니다!"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"계정을 활성화하려면 비밀번호를 설정해주세요."})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-4 mb-6",children:[(0,a.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:(0,a.jsx)("strong",{children:"초대 정보:"})}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 mt-2 space-y-1",children:[(0,a.jsxs)("li",{children:["• 이름: ",u.name]}),(0,a.jsxs)("li",{children:["• 이메일: ",u.email]}),(0,a.jsxs)("li",{children:["• 회사: ",u.organizationName]}),(0,a.jsxs)("li",{children:["• 역할: ",u.roleName]})]})]}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["비밀번호 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(l.Z,{type:"password",value:x,onChange:e=>h(e.target.value),placeholder:"최소 8자 이상",required:!0,minLength:8})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["비밀번호 확인 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(l.Z,{type:"password",value:m,onChange:e=>g(e.target.value),placeholder:"비밀번호를 다시 입력하세요",required:!0,minLength:8})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-md p-3",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["\uD83D\uDCA1 ",(0,a.jsx)("strong",{children:"비밀번호 요구사항:"})]}),(0,a.jsxs)("ul",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:[(0,a.jsx)("li",{children:"• 최소 8자 이상"}),(0,a.jsx)("li",{children:"• 영문, 숫자, 특수문자 조합 권장"})]})]}),(0,a.jsx)(i.Z,{type:"submit",disabled:b,className:"w-full",children:b?"처리 중...":"계정 활성화"})]})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"유효하지 않은 초대"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"초대 링크가 유효하지 않거나 만료되었습니다."}),(0,a.jsx)(i.Z,{onClick:()=>e.push("/login"),className:"w-full",children:"로그인 페이지로"})]})})}function d(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)("div",{className:"text-gray-500",children:"로딩 중..."})}),children:(0,a.jsx)(c,{})})}},6334:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(7437);r(2265);let s={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},n={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function l(e){let{variant:t="primary",size:r="md",className:l="",...i}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat(s[t]," ").concat(n[r]," ").concat(l),...i})}},2827:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437);function s(e){let{className:t="",...r}=e;return(0,a.jsx)("input",{className:"".concat("rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20"," ").concat(t),...r})}r(2265)}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=8953)}),_N_E=e.O()}]);