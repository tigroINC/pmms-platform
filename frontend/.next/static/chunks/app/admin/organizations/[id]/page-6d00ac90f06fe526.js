(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3336],{3264:function(e,a,t){Promise.resolve().then(t.bind(t,3528))},3528:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return o}});var s=t(7437),r=t(2265),l=t(605),i=t(9376),n=t(6334),d=t(4358),c=t(7648);function o(){let{data:e,status:a}=(0,l.useSession)(),t=(0,i.useRouter)(),o=(0,i.useParams)(),g=null==o?void 0:o.id,[h,b]=(0,r.useState)(null),[p,v]=(0,r.useState)(!0),[y,j]=(0,r.useState)(!1),[f,N]=(0,r.useState)(""),[k,w]=(0,r.useState)(!1),[C,S]=(0,r.useState)({}),[A,E]=(0,r.useState)(!1),[D,T]=(0,r.useState)({subscriptionPlan:"",subscriptionStatus:"",isActive:!0});(0,r.useEffect)(()=>{if("unauthenticated"===a)t.push("/login");else if("authenticated"===a){var s;"SUPER_ADMIN"!==(null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.role)?t.push("/dashboard"):P()}},[a,e,t,g]);let P=async()=>{try{v(!0);let e=await fetch("/api/organizations/".concat(g)),a=await e.json();e.ok?b(a.organization):(alert(a.error||"조직 정보를 불러오는데 실패했습니다."),t.push("/admin/organizations"))}catch(e){alert("조직 정보를 불러오는데 실패했습니다."),t.push("/admin/organizations")}finally{v(!1)}},I=async()=>{if(!f){alert("새 관리자를 선택해주세요.");return}if(confirm("관리자를 변경하시겠습니까?"))try{let e=await fetch("/api/organizations/".concat(g,"/change-admin"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newAdminId:f})}),a=await e.json();e.ok?(alert(a.message),j(!1),P()):alert(a.error||"관리자 변경에 실패했습니다.")}catch(e){alert("관리자 변경 중 오류가 발생했습니다.")}},O=(e,a)=>{S(t=>({...t,[e]:a}))},R=async()=>{if(confirm("회사 정보를 수정하시겠습니까?"))try{let e=await fetch("/api/organizations/".concat(g),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}),a=await e.json();e.ok?(alert(a.message),w(!1),P()):alert(a.error||"정보 수정에 실패했습니다.")}catch(e){alert("정보 수정 중 오류가 발생했습니다.")}},z=async()=>{if(confirm("구독 정보를 수정하시겠습니까?"))try{let e=await fetch("/api/organizations/".concat(g),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),a=await e.json();e.ok?(alert(a.message),E(!1),P()):alert(a.error||"구독 정보 수정에 실패했습니다.")}catch(e){alert("구독 정보 수정 중 오류가 발생했습니다.")}},M=async()=>{if(confirm("계약 관리 기능을 ".concat((null==h?void 0:h.hasContractManagement)?"비활성화":"활성화","하시겠습니까?")))try{let e=await fetch("/api/organizations/".concat(g),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({hasContractManagement:!(null==h?void 0:h.hasContractManagement)})}),a=await e.json();e.ok?(alert(a.message||"설정이 변경되었습니다."),P()):alert(a.error||"설정 변경에 실패했습니다.")}catch(e){alert("설정 변경 중 오류가 발생했습니다.")}},Z=async()=>{if(confirm("구독 정보 숨김을 ".concat((null==h?void 0:h.hideSubscriptionInfo)?"해제":"설정","하시겠습니까?")))try{let e=await fetch("/api/organizations/".concat(g),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({hideSubscriptionInfo:!(null==h?void 0:h.hideSubscriptionInfo)})}),a=await e.json();e.ok?(alert(a.message||"설정이 변경되었습니다."),P()):alert(a.error||"설정 변경에 실패했습니다.")}catch(e){alert("설정 변경 중 오류가 발생했습니다.")}};if(p||!h)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"text-lg",children:"로딩 중..."})});let L=h.users.find(e=>"ORG_ADMIN"===e.role),_=h.users.filter(e=>"OPERATOR"===e.role&&"APPROVED"===e.status);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)(d.Z,{}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-8",children:[(0,s.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"환경측정기업 상세"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:h.name})]}),(0,s.jsx)(c.default,{href:"/admin/organizations",children:(0,s.jsx)(n.Z,{children:"← 목록으로"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"회사 정보"}),k?(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.Z,{onClick:R,className:"text-sm px-3 py-1 bg-green-600 hover:bg-green-700 text-white",children:"저장"}),(0,s.jsx)(n.Z,{onClick:()=>{w(!1),S({})},className:"text-sm px-3 py-1 bg-gray-300 hover:bg-gray-400 text-gray-800",children:"취소"})]}):(0,s.jsx)(n.Z,{onClick:()=>{S({name:null==h?void 0:h.name,businessNumber:null==h?void 0:h.businessNumber,corporateNumber:(null==h?void 0:h.corporateNumber)||"",businessType:(null==h?void 0:h.businessType)||"",address:(null==h?void 0:h.address)||"",phone:(null==h?void 0:h.phone)||"",email:(null==h?void 0:h.email)||"",representative:(null==h?void 0:h.representative)||"",website:(null==h?void 0:h.website)||"",fax:(null==h?void 0:h.fax)||"",establishedDate:(null==h?void 0:h.establishedDate)||""}),w(!0)},className:"text-sm px-3 py-1",children:"수정"})]}),k?(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(m,{label:"법인명",value:C.name||"",onChange:e=>O("name",e),required:!0}),(0,s.jsx)(m,{label:"사업자등록번호",value:C.businessNumber||"",onChange:e=>O("businessNumber",e),required:!0}),(0,s.jsx)(m,{label:"법인등록번호",value:C.corporateNumber||"",onChange:e=>O("corporateNumber",e)}),(0,s.jsx)(m,{label:"업종",value:C.businessType||"",onChange:e=>O("businessType",e)}),(0,s.jsx)(m,{label:"대표자명",value:C.representative||"",onChange:e=>O("representative",e)}),(0,s.jsx)(m,{label:"전화번호",value:C.phone||"",onChange:e=>O("phone",e)}),(0,s.jsx)(m,{label:"이메일",value:C.email||"",onChange:e=>O("email",e),type:"email"}),(0,s.jsx)(m,{label:"팩스번호",value:C.fax||"",onChange:e=>O("fax",e)}),(0,s.jsx)(m,{label:"홈페이지",value:C.website||"",onChange:e=>O("website",e)}),(0,s.jsx)(m,{label:"설립일",value:C.establishedDate?C.establishedDate.split("T")[0]:"",onChange:e=>O("establishedDate",e),type:"date"}),(0,s.jsx)(m,{label:"주소",value:C.address||"",onChange:e=>O("address",e),className:"md:col-span-2"})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(x,{label:"법인명",value:h.name}),(0,s.jsx)(x,{label:"사업자등록번호",value:h.businessNumber}),(0,s.jsx)(x,{label:"법인등록번호",value:h.corporateNumber}),(0,s.jsx)(x,{label:"업종",value:h.businessType}),(0,s.jsx)(x,{label:"대표자명",value:h.representative}),(0,s.jsx)(x,{label:"전화번호",value:h.phone}),(0,s.jsx)(x,{label:"이메일",value:h.email}),(0,s.jsx)(x,{label:"팩스번호",value:h.fax}),(0,s.jsx)(x,{label:"홈페이지",value:h.website}),(0,s.jsx)(x,{label:"설립일",value:h.establishedDate?new Date(h.establishedDate).toLocaleDateString():void 0}),(0,s.jsx)(x,{label:"주소",value:h.address,className:"md:col-span-2"})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"구독 정보"}),A?(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.Z,{onClick:z,className:"text-sm px-3 py-1 bg-green-600 hover:bg-green-700 text-white",children:"저장"}),(0,s.jsx)(n.Z,{onClick:()=>{E(!1)},className:"text-sm px-3 py-1 bg-gray-300 hover:bg-gray-400 text-gray-800",children:"취소"})]}):(0,s.jsx)(n.Z,{onClick:()=>{T({subscriptionPlan:(null==h?void 0:h.subscriptionPlan)||"",subscriptionStatus:(null==h?void 0:h.subscriptionStatus)||"",isActive:(null==h?void 0:h.isActive)||!0}),E(!0)},className:"text-sm px-3 py-1",children:"수정"})]}),A?(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"구독플랜"}),(0,s.jsxs)("select",{value:D.subscriptionPlan,onChange:e=>T({...D,subscriptionPlan:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[(0,s.jsx)("option",{value:"FREE",children:"FREE"}),(0,s.jsx)("option",{value:"BASIC",children:"BASIC"}),(0,s.jsx)("option",{value:"PLUS",children:"PLUS"}),(0,s.jsx)("option",{value:"MASTER",children:"MASTER"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"구독상태"}),(0,s.jsxs)("select",{value:D.subscriptionStatus,onChange:e=>T({...D,subscriptionStatus:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[(0,s.jsx)("option",{value:"ACTIVE",children:"ACTIVE"}),(0,s.jsx)("option",{value:"TRIAL",children:"TRIAL"}),(0,s.jsx)("option",{value:"EXPIRED",children:"EXPIRED"}),(0,s.jsx)("option",{value:"SUSPENDED",children:"SUSPENDED"}),(0,s.jsx)("option",{value:"CANCELLED",children:"CANCELLED"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"활성상태"}),(0,s.jsxs)("select",{value:D.isActive?"true":"false",onChange:e=>T({...D,isActive:"true"===e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[(0,s.jsx)("option",{value:"true",children:"활성"}),(0,s.jsx)("option",{value:"false",children:"비활성"})]})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsxs)(n.Z,{onClick:M,className:"w-full ".concat(h.hasContractManagement?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"," text-white"),children:["계약관리 ",h.hasContractManagement?"ON":"OFF"]})}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsxs)(n.Z,{onClick:Z,className:"w-full ".concat(h.hideSubscriptionInfo?"bg-orange-600 hover:bg-orange-700":"bg-gray-600 hover:bg-gray-700"," text-white"),children:["구독정보 ",h.hideSubscriptionInfo?"숨김":"표시"]})})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(x,{label:"구독플랜",value:h.subscriptionPlan}),(0,s.jsx)(x,{label:"구독상태",value:h.subscriptionStatus}),(0,s.jsx)(x,{label:"활성상태",value:h.isActive?"활성":"비활성",valueClassName:h.isActive?"text-green-600":"text-red-600"}),(0,s.jsx)(x,{label:"계약관리 기능",value:h.hasContractManagement?"활성화":"비활성화",valueClassName:h.hasContractManagement?"text-green-600":"text-gray-600"}),(0,s.jsx)(x,{label:"구독정보 숨김",value:h.hideSubscriptionInfo?"숨김":"표시",valueClassName:h.hideSubscriptionInfo?"text-orange-600":"text-gray-600"}),(0,s.jsx)(x,{label:"등록일",value:new Date(h.createdAt).toLocaleString()})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"관리자 정보"}),_.length>0&&(0,s.jsx)(n.Z,{onClick:()=>j(!y),className:"text-sm px-3 py-1",children:y?"취소":"관리자 변경"})]}),L?(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(x,{label:"이름",value:L.name}),(0,s.jsx)(x,{label:"이메일",value:L.email}),(0,s.jsx)(x,{label:"전화번호",value:L.phone}),(0,s.jsx)(x,{label:"부서",value:L.department}),(0,s.jsx)(x,{label:"직책",value:L.position}),(0,s.jsx)(x,{label:"상태",value:L.isActive?"활성":"비활성",valueClassName:L.isActive?"text-green-600":"text-gray-400"})]}):(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"관리자가 없습니다."}),y&&_.length>0&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"새 관리자 선택"}),(0,s.jsxs)("select",{value:f,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-800 dark:text-white mb-3",children:[(0,s.jsx)("option",{value:"",children:"선택하세요"}),_.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," (",e.email,") - ",e.department||"부서 없음"]},e.id))]}),(0,s.jsx)(n.Z,{onClick:I,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"관리자 변경"})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:["임직원 목록 (",h.users.length,"명)"]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,s.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"이름"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"이메일"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"역할"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"부서/직책"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"상태"})]})}),(0,s.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:h.users.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.name}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.email}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("ORG_ADMIN"===e.role?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"),children:"ORG_ADMIN"===e.role?"관리자":"임직원"})}),(0,s.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:[e.department||"-"," / ",e.position||"-"]}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:e.isActive?"활성":"비활성"})})]},e.id))})]})})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"통계"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(u,{label:"임직원 수",value:h._count.users}),(0,s.jsx)(u,{label:"고객사 수",value:h._count.customers})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"고객사 목록"}),h.customers.length>0?(0,s.jsx)("div",{className:"space-y-2",children:Object.values(h.customers.reduce((e,a)=>{let t=a.customer.id;return e[t]||(e[t]={customer:a.customer,connections:[]}),e[t].connections.push(a),e},{})).map(e=>(0,s.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.customer.name,e.connections.length>1&&(0,s.jsxs)("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:["(",e.connections.length,"개 사업장)"]})]}),e.customer.businessNumber&&(0,s.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.customer.businessNumber}),e.connections.some(e=>{var a;return null===(a=e.proposedData)||void 0===a?void 0:a.siteType})&&(0,s.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:e.connections.map((e,a)=>{var t;return(null===(t=e.proposedData)||void 0===t?void 0:t.siteType)&&(0,s.jsx)("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded",children:e.proposedData.siteType},a)})})]})})},e.customer.id))}):(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"등록된 고객사가 없습니다."})]})]})]})]})]})}function x(e){let{label:a,value:t,className:r="",valueClassName:l=""}=e;return(0,s.jsxs)("div",{className:r,children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a}),(0,s.jsx)("div",{className:"mt-1 text-sm text-gray-900 dark:text-white ".concat(l),children:t||"-"})]})}function u(e){let{label:a,value:t}=e;return(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:a}),(0,s.jsx)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t})]})}function m(e){let{label:a,value:t,onChange:r,className:l="",type:i="text",required:n=!1}=e;return(0,s.jsxs)("div",{className:l,children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[a,n&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,s.jsx)("input",{type:i,value:t,onChange:e=>r(e.target.value),required:n,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}},4358:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var s=t(7437),r=t(605),l=t(9376),i=t(2265);function n(){var e,a;let{data:t}=(0,r.useSession)();(0,l.useRouter)();let[n,d]=(0,i.useState)(!1),c=(null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.name)||"",o=(null==t?void 0:null===(a=t.user)||void 0===a?void 0:a.email)||"";return(0,s.jsx)("header",{className:"h-16 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 sticky top-0 z-40",children:(0,s.jsxs)("div",{className:"mx-auto h-full px-6 flex items-center justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"시스템 관리자"})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>d(!n),className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-white font-semibold",children:c.charAt(0).toUpperCase()}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c}),(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-20",children:[(0,s.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:o})]}),(0,s.jsx)("div",{className:"py-1",children:(0,s.jsx)("button",{onClick:()=>{sessionStorage.removeItem("viewAsOrganization"),sessionStorage.removeItem("viewAsCustomer"),(0,r.signOut)({callbackUrl:"/login"})},className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"로그아웃"})})]})]})]})]})})}},6334:function(e,a,t){"use strict";t.d(a,{Z:function(){return i}});var s=t(7437);t(2265);let r={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},l={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function i(e){let{variant:a="primary",size:t="md",className:i="",...n}=e;return(0,s.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat(r[a]," ").concat(l[t]," ").concat(i),...n})}}},function(e){e.O(0,[605,3448,2971,2117,1744],function(){return e(e.s=3264)}),_N_E=e.O()}]);