(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3717],{2618:function(e,t,a){Promise.resolve().then(a.bind(a,4103))},4103:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var r=a(7437),s=a(2265),c=a(605),o=a(9376),d=a(7648),n=a(4358),l=a(6334),i=a(2827);let m=[{code:"dashboard.view",name:"대시보드 조회",category:"대시보드"},{code:"dashboard.automl",name:"AutoML 예측",category:"대시보드"},{code:"dashboard.insight",name:"인사이트 보고서 생성",category:"대시보드"},{code:"customer.tab.all",name:"전체탭 보기",category:"고객사 관리"},{code:"customer.tab.internal",name:"내부탭 보기",category:"고객사 관리"},{code:"customer.tab.connected",name:"연결탭 보기",category:"고객사 관리"},{code:"customer.tab.search",name:"검색탭 보기",category:"고객사 관리"},{code:"customer.view",name:"고객사 조회",category:"고객사 관리"},{code:"customer.create",name:"고객사 등록",category:"고객사 관리"},{code:"customer.update",name:"고객사 수정",category:"고객사 관리"},{code:"customer.delete",name:"고객사 삭제",category:"고객사 관리"},{code:"customer.activate",name:"활성화/비활성화",category:"고객사 관리"},{code:"customer.search",name:"검색 기능",category:"고객사 관리"},{code:"customer.filter",name:"필터 기능",category:"고객사 관리"},{code:"customer.bulk_upload",name:"일괄업로드",category:"고객사 관리"},{code:"customer.export",name:"Excel 내보내기",category:"고객사 관리"},{code:"customer.invite",name:"고객사 초대",category:"고객사 관리"},{code:"draft_customer.view",name:"임시고객사 조회",category:"임시고객사"},{code:"draft_customer.create",name:"임시고객사 등록",category:"임시고객사"},{code:"draft_customer.confirm",name:"임시고객사 확정",category:"임시고객사"},{code:"draft_customer.delete",name:"임시고객사 삭제",category:"임시고객사"},{code:"stack.view",name:"굴뚝 조회",category:"굴뚝 관리"},{code:"stack.create",name:"굴뚝 등록",category:"굴뚝 관리"},{code:"stack.update",name:"굴뚝 수정",category:"굴뚝 관리"},{code:"stack.delete",name:"굴뚝 삭제",category:"굴뚝 관리"},{code:"stack_request.view",name:"굴뚝 요청 조회",category:"굴뚝 요청"},{code:"stack_request.approve",name:"굴뚝 요청 승인",category:"굴뚝 요청"},{code:"stack_request.reject",name:"굴뚝 요청 거부",category:"굴뚝 요청"},{code:"master_item.view",name:"측정항목 조회",category:"마스터 - 측정항목"},{code:"master_item.create",name:"측정항목 등록",category:"마스터 - 측정항목"},{code:"master_item.update",name:"측정항목 수정",category:"마스터 - 측정항목"},{code:"master_item.delete",name:"측정항목 삭제",category:"마스터 - 측정항목"},{code:"master_item.reorder",name:"측정항목 순서변경",category:"마스터 - 측정항목"},{code:"master_limit.view",name:"허용기준 조회",category:"마스터 - 허용기준"},{code:"master_limit.create",name:"허용기준 등록",category:"마스터 - 허용기준"},{code:"master_limit.update",name:"허용기준 수정",category:"마스터 - 허용기준"},{code:"master_limit.delete",name:"허용기준 삭제",category:"마스터 - 허용기준"},{code:"measurement.view",name:"측정 데이터 조회",category:"측정 데이터"},{code:"measurement.create",name:"측정 데이터 입력",category:"측정 데이터"},{code:"measurement.update",name:"측정 데이터 수정",category:"측정 데이터"},{code:"measurement.delete",name:"측정 데이터 삭제",category:"측정 데이터"},{code:"measurement.import",name:"측정 데이터 가져오기",category:"측정 데이터"},{code:"measurement.export",name:"측정 데이터 내보내기",category:"측정 데이터"},{code:"user.view",name:"사용자 조회",category:"사용자 관리"},{code:"user.create",name:"사용자 등록",category:"사용자 관리"},{code:"user.update",name:"사용자 수정",category:"사용자 관리"},{code:"user.delete",name:"사용자 삭제",category:"사용자 관리"},{code:"user.role",name:"역할 관리",category:"사용자 관리"},{code:"staff.view",name:"직원 조회",category:"직원 관리"},{code:"staff.invite",name:"직원 초대",category:"직원 관리"},{code:"staff.update",name:"직원 수정",category:"직원 관리"},{code:"staff.delete",name:"직원 삭제",category:"직원 관리"},{code:"staff.assign_customer",name:"고객사 담당 배정",category:"직원 관리"},{code:"report.view",name:"보고서 조회",category:"보고서"},{code:"report.create",name:"보고서 생성",category:"보고서"},{code:"report.update",name:"보고서 수정",category:"보고서"},{code:"report.delete",name:"보고서 삭제",category:"보고서"},{code:"report.share",name:"보고서 고객공유",category:"보고서"},{code:"report.pdf",name:"보고서 PDF 생성",category:"보고서"},{code:"report.export",name:"보고서 Excel 내보내기",category:"보고서"},{code:"insight_report.view",name:"인사이트 보고서 조회",category:"인사이트 보고서"},{code:"insight_report.share",name:"인사이트 보고서 공유",category:"인사이트 보고서"},{code:"communication.view",name:"고객소통 조회",category:"고객소통"},{code:"communication.create",name:"고객소통 등록",category:"고객소통"},{code:"communication.update",name:"고객소통 수정",category:"고객소통"},{code:"communication.delete",name:"고객소통 삭제",category:"고객소통"},{code:"communication.reply",name:"고객소통 답변",category:"고객소통"},{code:"communication.assign",name:"고객소통 담당자 배정",category:"고객소통"},{code:"communication.note",name:"고객소통 내부메모",category:"고객소통"},{code:"communication.template",name:"고객소통 템플릿 관리",category:"고객소통"},{code:"settings.view",name:"설정 조회",category:"설정"},{code:"settings.update",name:"설정 변경",category:"설정"},{code:"contract.view",name:"계약 조회",category:"계약 관리"},{code:"contract.create",name:"계약 등록",category:"계약 관리"},{code:"contract.update",name:"계약 수정",category:"계약 관리"},{code:"contract.delete",name:"계약 삭제",category:"계약 관리"}];function x(e){let{isOpen:t,onClose:a,onSuccess:c,selectedTemplateId:o}=e,[d,n]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),[x,u]=(0,s.useState)(o||""),[g,h]=(0,s.useState)([]),[y,p]=(0,s.useState)(new Set),[b,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&v()},[t]),(0,s.useEffect)(()=>{x&&g.length>0&&j(x)},[x,g]);let v=async()=>{try{let e=await fetch("/api/role-templates"),t=await e.json();e.ok&&h(t.templates||[])}catch(e){}},j=e=>{let t=g.find(t=>t.id===e);t&&p(new Set(t.defaultPermissions.map(e=>e.permissionCode)))},N=e=>{let t=new Set(y);t.has(e)?t.delete(e):t.add(e),p(t)},w=async e=>{if(e.preventDefault(),!d){alert("역할 이름을 입력해주세요.");return}if(0===y.size){alert("최소 1개 이상의 권한을 선택해주세요.");return}f(!0);try{let e=await fetch("/api/custom-roles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d,description:l,templateId:x||null,permissions:Array.from(y).map(e=>({permissionCode:e,granted:!0}))})}),t=await e.json();e.ok?(alert("역할이 생성되었습니다!"),k(),c()):alert(t.error||"역할 생성 실패")}catch(e){alert("역할 생성 중 오류가 발생했습니다.")}finally{f(!1)}},k=()=>{n(""),i(""),u(""),p(new Set),a()};if(!t)return null;let C=m.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{});return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl my-8 max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"커스텀 역할 생성"}),(0,r.jsxs)("form",{onSubmit:w,children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"기본 정보"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"역할 이름 *"}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>n(e.target.value),className:"w-full border rounded px-3 py-2",placeholder:"예: 현장 책임자",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),(0,r.jsx)("textarea",{value:l,onChange:e=>i(e.target.value),className:"w-full border rounded px-3 py-2",rows:2,placeholder:"역할에 대한 설명을 입력하세요"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"기반 템플릿 (선택)"}),(0,r.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"w-full border rounded px-3 py-2",children:[(0,r.jsx)("option",{value:"",children:"템플릿 없음 (처음부터 설정)"}),g.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.defaultPermissions.length,"개 권한)"]},e.id))]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"템플릿을 선택하면 해당 권한이 자동으로 선택됩니다."})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3",children:["권한 선택 (",y.size,"개 선택됨)"]}),(0,r.jsx)("div",{className:"space-y-4",children:Object.entries(C).map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{className:"border rounded p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:t}),(0,r.jsx)("button",{type:"button",onClick:()=>{let e=a.map(e=>e.code),t=e.every(e=>y.has(e)),r=new Set(y);t?e.forEach(e=>r.delete(e)):e.forEach(e=>r.add(e)),p(r)},className:"text-sm text-blue-600 hover:text-blue-700",children:a.every(e=>y.has(e.code))?"전체 해제":"전체 선택"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:a.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[(0,r.jsx)("input",{type:"checkbox",checked:y.has(e.code),onChange:()=>N(e.code),className:"rounded"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e.name})]},e.code))})]},t)})})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:k,className:"flex-1 px-4 py-2 border rounded hover:bg-gray-50",disabled:b,children:"취소"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",disabled:b,children:b?"생성 중...":"역할 생성"})]})]})]})})}function u(){let{data:e,status:t}=(0,c.useSession)(),a=(0,o.useRouter)(),[m,u]=(0,s.useState)("custom"),[g,h]=(0,s.useState)([]),[y,p]=(0,s.useState)([]),[b,f]=(0,s.useState)(!0),[v,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)("");(0,s.useEffect)(()=>{if("unauthenticated"===t){a.push("/login");return}if(null==e?void 0:e.user){let t=e.user.role;if("ORG_ADMIN"!==t&&"SUPER_ADMIN"!==t){a.push("/dashboard");return}k()}},[e,t,a,m]);let k=async()=>{f(!0);try{"templates"===m?await C():await _()}finally{f(!1)}},C=async()=>{try{let e=await fetch("/api/role-templates"),t=await e.json();e.ok&&h(t.templates||[])}catch(e){}},_=async()=>{try{let e=await fetch("/api/custom-roles"),t=await e.json();e.ok&&p(t.customRoles||[])}catch(e){}},S=async e=>{if(confirm("이 역할을 삭제하시겠습니까?"))try{let t=await fetch("/api/custom-roles/".concat(e),{method:"DELETE"});if(t.ok)alert("역할이 삭제되었습니다."),_();else{let e=await t.json();alert(e.error||"삭제 실패")}}catch(e){alert("삭제 중 오류가 발생했습니다.")}},D=e=>(0,r.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat({ORGANIZATION:"bg-blue-100 text-blue-800",CUSTOMER:"bg-green-100 text-green-800"}[e]),children:{ORGANIZATION:"환경측정업체",CUSTOMER:"고객사"}[e]});return b?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)(n.Z,{}),(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"text-gray-500",children:"로딩 중..."})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)(n.Z,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"역할 관리"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"사용자 역할 및 권한 관리"})]}),(0,r.jsx)(d.default,{href:"/admin/dashboard",children:(0,r.jsx)(l.Z,{children:"← 대시보드로"})})]}),(0,r.jsx)("div",{className:"mb-6 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,r.jsx)("button",{onClick:()=>u("custom"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("custom"===m?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:"\uD83C\uDFAD 커스텀 역할"}),(0,r.jsx)("button",{onClick:()=>u("templates"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("templates"===m?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:"\uD83D\uDCCB 역할 템플릿"})]})}),(0,r.jsxs)("div",{className:"mb-6 flex items-center gap-4",children:[(0,r.jsx)(i.Z,{type:"text",placeholder:"역할 이름 검색...",value:N,onChange:e=>w(e.target.value),className:"w-80"}),"custom"===m&&(0,r.jsx)(l.Z,{onClick:()=>j(!0),children:"+ 역할 생성"})]}),"custom"===m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden md:block bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,r.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"역할명"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"설명"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"기반 템플릿"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"권한 수"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"사용자 수"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"액션"})]})}),(0,r.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.filter(e=>{var t;return""===N||e.name.toLowerCase().includes(N.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(N.toLowerCase()))}).map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900 dark:text-white",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:e.description||"-"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.template?e.template.name:"-"}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[e.permissions.filter(e=>e.granted).length,"개"]}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[e._count.users,"명"]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>a.push("/org/settings/roles/".concat(e.id)),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"수정"}),(0,r.jsx)("button",{onClick:()=>S(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",disabled:e._count.users>0,children:"삭제"})]})})]},e.id))})]})}),(0,r.jsx)("div",{className:"md:hidden space-y-3",children:y.filter(e=>{var t;return""===N||e.name.toLowerCase().includes(N.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(N.toLowerCase()))}).map(e=>(0,r.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4 space-y-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,r.jsx)("div",{className:"font-medium text-lg",children:e.name})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDCDD 설명:"})," ",e.description||"-"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDCE6 템플릿:"})," ",e.template?e.template.name:"-"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDD11 권한:"})," ",e.permissions.filter(e=>e.granted).length,"개"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDC65 사용자:"})," ",e._count.users,"명"]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,r.jsx)("button",{onClick:()=>a.push("/org/settings/roles/".concat(e.id)),className:"flex-1 px-3 py-2 bg-blue-500 text-white hover:bg-blue-600 rounded text-sm",children:"수정"}),(0,r.jsx)("button",{onClick:()=>S(e.id),disabled:e._count.users>0,className:"flex-1 px-3 py-2 bg-gray-500 text-white hover:bg-gray-600 rounded text-sm disabled:opacity-50",children:"삭제"})]})]})]},e.id))})]}),"templates"===m&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),D(e.category)]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"권한:"})," ",e.defaultPermissions.length,"개"]})}),(0,r.jsx)("button",{onClick:()=>{j(!0)},className:"w-full bg-blue-50 text-blue-600 px-4 py-2 rounded hover:bg-blue-100",children:"이 템플릿으로 역할 생성"})]},e.id))}),(0,r.jsx)(x,{isOpen:v,onClose:()=>j(!1),onSuccess:()=>{j(!1),_()}})]})]})}},4358:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var r=a(7437),s=a(605),c=a(9376),o=a(2265);function d(){var e,t;let{data:a}=(0,s.useSession)();(0,c.useRouter)();let[d,n]=(0,o.useState)(!1),l=(null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.name)||"",i=(null==a?void 0:null===(t=a.user)||void 0===t?void 0:t.email)||"";return(0,r.jsx)("header",{className:"h-16 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 sticky top-0 z-40",children:(0,r.jsxs)("div",{className:"mx-auto h-full px-6 flex items-center justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"시스템 관리자"})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>n(!d),className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-white font-semibold",children:l.charAt(0).toUpperCase()}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l}),(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>n(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-20",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:i})]}),(0,r.jsx)("div",{className:"py-1",children:(0,r.jsx)("button",{onClick:()=>{sessionStorage.removeItem("viewAsOrganization"),sessionStorage.removeItem("viewAsCustomer"),(0,s.signOut)({callbackUrl:"/login"})},className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"로그아웃"})})]})]})]})]})})}},6334:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var r=a(7437);a(2265);let s={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},c={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function o(e){let{variant:t="primary",size:a="md",className:o="",...d}=e;return(0,r.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat(s[t]," ").concat(c[a]," ").concat(o),...d})}},2827:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(7437);function s(e){let{className:t="",...a}=e;return(0,r.jsx)("input",{className:"".concat("rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20"," ").concat(t),...a})}a(2265)}},function(e){e.O(0,[605,3448,2971,2117,1744],function(){return e(e.s=2618)}),_N_E=e.O()}]);