(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3857],{9917:function(e,s,t){Promise.resolve().then(t.bind(t,8427))},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},8427:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var a=t(7437),r=t(2265),l=t(2397),n=t(2827),i=t(6334),c=t(1515);function d(e){let{isOpen:s,onClose:t,onSuccess:l,item:c}=e,d=!!c,[x,o]=(0,r.useState)({key:"",name:"",englishName:"",unit:"",limit:"",category:"",classification:"",analysisMethod:"",hasLimit:!0,inputType:"number",options:""}),[m,h]=(0,r.useState)(!1),[g,u]=(0,r.useState)("");(0,r.useEffect)(()=>{if(s&&c){var e;o({key:c.key||"",name:c.name||"",englishName:c.englishName||"",unit:c.unit||"",limit:(null===(e=c.limit)||void 0===e?void 0:e.toString())||"",category:c.category||"",classification:c.classification||"",analysisMethod:c.analysisMethod||"",hasLimit:!1!==c.hasLimit,inputType:c.inputType||"number",options:c.options||""})}else s&&!c&&o({key:"",name:"",englishName:"",unit:"",limit:"",category:"",classification:"",analysisMethod:"",hasLimit:!0,inputType:"number",options:""});u("")},[s,c]);let y=(e,s)=>{o(t=>({...t,[e]:s}))},p=async e=>{if(e.preventDefault(),u(""),!x.key){u("항목코드는 필수입니다.");return}if(!x.name){u("항목명(한글)은 필수입니다.");return}h(!0);try{let e={key:x.key.trim(),name:x.name.trim(),unit:x.unit.trim(),limit:x.limit?parseFloat(x.limit):null,hasLimit:x.hasLimit,inputType:x.inputType};x.englishName&&(e.englishName=x.englishName.trim()),x.category&&(e.category=x.category),x.classification&&(e.classification=x.classification.trim()),x.analysisMethod&&(e.analysisMethod=x.analysisMethod.trim()),x.options&&(e.options=x.options.trim());let s=d?"/api/items/".concat(c.id):"/api/items",a=await fetch(s,{method:d?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.json();throw Error(e.error||"저장 실패")}o({key:"",name:"",englishName:"",unit:"",limit:"",category:"",classification:"",analysisMethod:"",hasLimit:!0,inputType:"number",options:""}),l(),t()}catch(e){u(e.message)}finally{h(!1)}};return s?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:d?"측정항목 수정":"신규 측정항목 추가"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"✕"})]}),(0,a.jsxs)("form",{onSubmit:p,className:"p-6 space-y-4",children:[g&&(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-4 py-3 rounded",children:g}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["항목코드 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(n.Z,{value:x.key,onChange:e=>y("key",e.target.value),placeholder:"예: EA-I-0001",required:!0}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"형식: EA-[I/M/V]-0000"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["구분 ",(0,a.jsx)("span",{className:"text-gray-400",children:"(선택)"})]}),(0,a.jsxs)("select",{value:x.category,onChange:e=>y("category",e.target.value),className:"w-full border rounded px-3 py-2 bg-white dark:bg-gray-700",children:[(0,a.jsx)("option",{value:"",children:"선택하세요"}),["오염물질","채취환경"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"오염물질 또는 채취환경"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["항목명(한글) ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(n.Z,{value:x.name,onChange:e=>y("name",e.target.value),placeholder:"예: 먼지",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["항목명(영문) ",(0,a.jsx)("span",{className:"text-gray-400",children:"(선택)"})]}),(0,a.jsx)(n.Z,{value:x.englishName,onChange:e=>y("englishName",e.target.value),placeholder:"예: Particulate Matter"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["항목분류 ",(0,a.jsx)("span",{className:"text-gray-400",children:"(선택)"})]}),(0,a.jsx)(n.Z,{value:x.classification,onChange:e=>y("classification",e.target.value),placeholder:"예: 무기물질(기본항목), 금속화합물, 휘발성유기화합물 등"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"자유롭게 입력하세요 (예: 무기물질(기본항목), 금속화합물, 휘발성유기화합물 등)"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["기본단위 ",(0,a.jsx)("span",{className:"text-gray-400",children:"(선택)"})]}),(0,a.jsx)(n.Z,{value:x.unit,onChange:e=>y("unit",e.target.value),placeholder:"예: ppm, mg/S㎥, 도"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["허용기준값 ",(0,a.jsx)("span",{className:"text-gray-400",children:"(선택)"})]}),(0,a.jsx)(n.Z,{type:"number",step:"0.001",value:x.limit,onChange:e=>y("limit",e.target.value),placeholder:"예: 50"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["측정분석방법 ",(0,a.jsx)("span",{className:"text-gray-400",children:"(선택)"})]}),(0,a.jsx)(n.Z,{value:x.analysisMethod,onChange:e=>y("analysisMethod",e.target.value),placeholder:"예: ES 01301.1b"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.hasLimit,onChange:e=>y("hasLimit",e.target.checked),className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"허용기준 적용 항목"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 ml-6",children:"체크 시 배출허용기준이 있는 항목으로 표시됩니다"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["입력 타입 ",(0,a.jsx)("span",{className:"text-gray-400",children:"(선택)"})]}),(0,a.jsxs)("select",{value:x.inputType,onChange:e=>y("inputType",e.target.value),className:"w-full border rounded px-3 py-2 bg-white dark:bg-gray-700",children:[(0,a.jsx)("option",{value:"number",children:"숫자 입력"}),(0,a.jsx)("option",{value:"select",children:"선택 입력 (드롭다운)"}),(0,a.jsx)("option",{value:"text",children:"텍스트 입력"})]})]}),"select"===x.inputType&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["선택 옵션 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(n.Z,{value:x.options,onChange:e=>y("options",e.target.value),placeholder:'예: ["맑음","구름","비","눈"]'}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"JSON 배열 형식으로 입력하세요"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(i.Z,{type:"button",variant:"secondary",onClick:t,className:"flex-1",children:"취소"}),(0,a.jsx)(i.Z,{type:"submit",disabled:m,className:"flex-1",children:m?"저장 중...":d?"수정":"저장"})]})]})]})}):null}var x=t(3158),o=t(8653);function m(){let{user:e}=(0,l.a)(),s=null==e?void 0:e.role,[t,m]=(0,r.useState)("items"),[h,g]=(0,r.useState)([]),[u,y]=(0,r.useState)(""),[p,j]=(0,r.useState)("전체"),[b,N]=(0,r.useState)(!1),[v,f]=(0,r.useState)(null),[k,w]=(0,r.useState)(!1),[C,D]=(0,r.useState)(null),[S,T]=(0,r.useState)({}),[A,E]=(0,r.useState)(!1),[M,P]=(0,r.useState)([]),[O,L]=(0,r.useState)(""),[R,_]=(0,r.useState)([]),[I,Z]=(0,r.useState)(""),[F,U]=(0,r.useState)([]),[z,J]=(0,r.useState)(!1),[G,W]=(0,r.useState)(!1),[B,V]=(0,r.useState)([]),[H,Q]=(0,r.useState)(!1);(0,r.useEffect)(()=>{K(),q()},[]),(0,r.useEffect)(()=>{O?X(O):(_([]),Z(""))},[O]),(0,r.useEffect)(()=>{I?Y(I):U([])},[I]);let K=async()=>{try{let e=await fetch("/api/items"),s=await e.json();g(s.data||[])}catch(e){}},q=async()=>{try{let e=await fetch("/api/customers"),s=await e.json();P(s.customers||[])}catch(e){}},X=async e=>{try{let s=await fetch("/api/stacks?customerId=".concat(e)),t=await s.json();_(t.data||[])}catch(e){}},Y=async e=>{J(!0);try{let s=await fetch("/api/stacks/".concat(e,"/measurement-items")),t=await s.json();U(t.items||[])}catch(e){U([])}finally{J(!1)}},$=async(e,s)=>{if(I){U(t=>t.map(t=>t.key===e?{...t,isActive:s}:t));try{let t=F.map(t=>({itemKey:t.key,isActive:t.key===e?s:t.isActive,order:t.order}));if(!(await fetch("/api/stacks/".concat(I,"/measurement-items"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})})).ok)throw Error("설정 저장 실패")}catch(e){alert(e.message||"설정 저장 중 오류가 발생했습니다."),Y(I)}}},ee=async e=>{if(I)try{let s=[...F.map(e=>({itemKey:e.key,isActive:e.isActive,order:e.order})),{itemKey:e,isActive:!0,order:0}];if(!(await fetch("/api/stacks/".concat(I,"/measurement-items"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:s})})).ok)throw Error("항목 추가 실패");await Y(I),W(!1),alert("항목이 추가되었습니다.")}catch(e){alert(e.message||"항목 추가 중 오류가 발생했습니다.")}},es=async(e,s)=>{if(I&&confirm('"'.concat(s,'" 항목을 삭제하시겠습니까?\n측정 이력이 있는 항목은 삭제할 수 없습니다.')))try{let s=F.filter(s=>s.key!==e).map(e=>({itemKey:e.key,isActive:e.isActive,order:e.order}));if(!(await fetch("/api/stacks/".concat(I,"/measurement-items"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:s})})).ok)throw Error("항목 삭제 실패");await Y(I),alert("항목이 삭제되었습니다.")}catch(e){alert(e.message||"항목 삭제 중 오류가 발생했습니다.")}},et=async()=>{if(I&&confirm("해당 굴뚝의 측정항목 설정을 전체 기준으로 초기화하시겠습니까?\n\n개별 설정된 모든 항목이 삭제되고, 전체 기본 항목으로 대체됩니다."))try{if(!(await fetch("/api/stacks/".concat(I,"/measurement-items"),{method:"DELETE"})).ok)throw Error("초기화 실패");await Y(I),alert("전체 기준으로 초기화되었습니다.")}catch(e){alert(e.message||"초기화 중 오류가 발생했습니다.")}},ea=async(e,s)=>{if(I){U(t=>t.map(t=>t.key===e?{...t,order:s}:t));try{let t=F.map(t=>({itemKey:t.key,isActive:t.isActive,order:t.key===e?s:t.order}));if(!(await fetch("/api/stacks/".concat(I,"/measurement-items"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})})).ok)throw Error("순서 변경 실패")}catch(e){alert(e.message||"순서 변경 중 오류가 발생했습니다."),Y(I)}}},er=(0,r.useMemo)(()=>Array.from(new Set(h.map(e=>e.category).filter(Boolean))).sort(),[h]),el=(0,r.useMemo)(()=>{let e=h.filter(e=>{let s=!1!==e.isActive;if(!A&&!s)return!1;if(!u)return"전체"===p||e.category===p;let t=u.toLowerCase(),a=e.key&&e.key.toLowerCase().includes(t)||e.name&&e.name.toLowerCase().includes(t)||e.englishName&&e.englishName.toLowerCase().includes(t)||e.unit&&e.unit.toLowerCase().includes(t)||e.category&&e.category.toLowerCase().includes(t),r="전체"===p||e.category===p;return a&&r}),s=(e,s)=>{var t,a;let r=null!==(t=e.order)&&void 0!==t?t:0,l=null!==(a=s.order)&&void 0!==a?a:0;return 0===r&&0!==l?1:0!==r&&0===l?-1:r===l?e.name.localeCompare(s.name):r-l},t=e.filter(e=>"오염물질"===e.category),a=e.filter(e=>"채취환경"===e.category),r=e.filter(e=>"오염물질"!==e.category&&"채취환경"!==e.category);return t.sort(s),a.sort(s),r.sort(s),[...t,...a,...r]},[h,u,p,A]),en=async e=>{try{let s=await e.text(),t=await fetch("/api/measurement-items/bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({csvText:s})}),a=await t.json();if(t.ok)return K(),{success:!0,message:a.message||"업로드 성공",count:a.count};return{success:!1,message:a.error||"업로드 실패"}}catch(e){return{success:!1,message:e.message||"오류 발생"}}},ei=e=>{D(e.key),T({key:e.key,name:e.name,englishName:e.englishName,unit:e.unit,category:e.category,classification:e.classification,limit:e.limit,hasLimit:e.hasLimit,inputType:e.inputType||"number",options:e.options||""})},ec=async e=>{try{let s=await fetch("/api/items/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e,...S})});if(!s.ok){let e=await s.json();throw Error(e.error||"수정 실패")}D(null),T({}),K()}catch(e){alert(e.message||"수정 중 오류가 발생했습니다.")}},ed=()=>{D(null),T({})},ex=async e=>{try{let s=await fetch("/api/items/".concat(e.key),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!e.isActive})});if(!s.ok){let e=await s.json();throw Error(e.error||"상태 변경 실패")}K()}catch(e){alert(e.message||"상태 변경 중 오류가 발생했습니다.")}},eo=async e=>{if(confirm("".concat(e.name," (항목코드: ").concat(e.key,")를 삭제하시겠습니까?")))try{let s=await fetch("/api/items/".concat(e.id),{method:"DELETE"});if(!s.ok){let e=await s.json();throw Error(e.error||"삭제 실패")}alert("삭제되었습니다."),K()}catch(e){alert(e.message||"삭제 중 오류가 발생했습니다.")}},em=async(e,s)=>{try{let t=await fetch("/api/items/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:s})});if(!t.ok){let e=await t.json();throw Error(e.error||"순서 변경 실패")}K()}catch(e){alert(e.message||"순서 변경 중 오류가 발생했습니다.")}};return(0,a.jsxs)("section",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-2.5",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-end gap-2",children:[(0,a.jsx)("h1",{className:"text-lg font-semibold whitespace-nowrap mb-1.5",children:"측정항목 관리"}),(0,a.jsx)("span",{className:"text-gray-300 dark:text-gray-600 mb-1.5",children:"|"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-1.5",children:[(0,a.jsx)("button",{onClick:()=>m("items"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("items"===t?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"\uD83D\uDCCB 전체 항목 관리"}),(0,a.jsx)("button",{onClick:()=>m("stack-items"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("stack-items"===t?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"\uD83C\uDFED 굴뚝별 측정 대상 설정"})]}),(0,a.jsx)("span",{className:"text-gray-300 dark:text-gray-600 mb-1.5",children:"|"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-0.5",children:"검색"}),(0,a.jsx)(n.Z,{className:"text-sm h-8",style:{width:"352px",minWidth:"352px"},value:u,onChange:e=>y(e.target.value),placeholder:"항목코드, 항목명, 영문명, 단위 등"})]}),(0,a.jsxs)("div",{className:"flex flex-col",style:{width:"70px",minWidth:"70px"},children:[(0,a.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-0.5",children:"항목 분류"}),(0,a.jsxs)("select",{className:"text-sm h-8 w-full border rounded px-2 bg-white dark:bg-gray-800",value:p,onChange:e=>j(e.target.value),children:[(0,a.jsx)("option",{children:"전체"}),er.map(e=>(0,a.jsx)("option",{value:e||"",children:e},e||"unknown"))]})]}),"items"===t&&(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm mb-1.5",children:[(0,a.jsx)("input",{type:"checkbox",checked:A,onChange:e=>E(e.target.checked),className:"w-4 h-4"}),"비활성 표시"]}),(0,a.jsxs)("div",{className:"flex gap-1.5 ml-auto mb-1.5",children:[(0,a.jsx)("button",{onClick:()=>Q(!0),className:"px-3 py-1.5 text-xs bg-blue-100 hover:bg-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 text-blue-700 dark:text-blue-300 rounded",children:"❓ 도움말"}),("SUPER_ADMIN"===s||"ORG_ADMIN"===s)&&"items"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{size:"sm",variant:"secondary",onClick:()=>{let e=new Blob(["\uFEFF"+[["항목코드","항목명(한글)","항목명(영문)","기본단위","구분","항목분류","허용기준값","측정분석방법"],...el.map(e=>[e.key||"",e.name||"",e.englishName||"",e.unit||"",e.category||"",e.classification||"",e.limit||"",e.analysisMethod||""])].map(e=>e.map(e=>'"'.concat(String(null!=e?e:"").replace(/"/g,'""'),'"')).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="items_".concat(new Date().toISOString().slice(0,10),".csv"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s)},children:"Excel"}),(0,a.jsx)(i.Z,{size:"sm",variant:"secondary",onClick:()=>w(!0),children:"일괄업로드"}),(0,a.jsx)(i.Z,{size:"sm",onClick:()=>{f(null),N(!0)},children:"+ 신규 추가"})]})]})]})}),"items"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden md:block rounded-lg border overflow-x-auto max-h-[calc(100vh-180px)] overflow-y-auto",children:(0,a.jsxs)(c.iA,{className:"min-w-[1200px] table-fixed",children:[(0,a.jsx)(c.hr,{className:"bg-gray-50 dark:bg-white/10 sticky top-0 z-10",children:(0,a.jsxs)(c.Tr,{children:[(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[5%]",children:"상태"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[5%]",children:"순서"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[6%]",children:"구분"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[8%]",children:"항목코드"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[10%]",children:"항목명(한글)"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[10%]",children:"항목명(영문)"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[6%]",children:"기본단위"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[8%]",children:"항목분류"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[6%]",children:"허용기준값"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[10%]",children:"측정분석방법"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[7%]",children:"입력타입"}),(0,a.jsx)(c.Th,{className:"bg-gray-50 dark:bg-gray-800 w-[8%]",children:"선택옵션"}),("SUPER_ADMIN"===s||"ORG_ADMIN"===s)&&(0,a.jsx)(c.Th,{className:"w-40 bg-gray-50 dark:bg-gray-800",children:"액션"})]})}),(0,a.jsx)(c.p3,{children:0===el.length?(0,a.jsx)(c.Tr,{children:(0,a.jsx)(c.Td,{colSpan:"SUPER_ADMIN"===s||"ORG_ADMIN"===s?13:12,className:"text-center text-gray-500 py-8",children:"등록된 측정항목이 없습니다"})}):el.map(e=>{var t;let r=!1!==e.isActive,l=C===e.key;return(0,a.jsxs)(c.Tr,{className:r?"":"opacity-50 bg-gray-50 dark:bg-gray-900/20",children:[(0,a.jsx)(c.Td,{children:r?(0,a.jsx)("span",{className:"inline-block px-2 py-0.5 rounded bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 text-xs",children:"활성"}):(0,a.jsx)("span",{className:"inline-block px-2 py-0.5 rounded bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 text-xs",children:"비활성"})}),(0,a.jsx)(c.Td,{children:(0,a.jsx)("input",{type:"number",value:e.order||0,onChange:s=>em(e.key,parseInt(s.target.value)||0),className:"w-16 px-2 py-1 text-center border rounded text-sm",min:"0",disabled:"SUPER_ADMIN"!==s&&"ORG_ADMIN"!==s||l})}),(0,a.jsx)(c.Td,{children:l?(0,a.jsxs)("select",{value:S.category||"",onChange:e=>T({...S,category:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm",children:[(0,a.jsx)("option",{value:"",children:"-"}),(0,a.jsx)("option",{value:"오염물질",children:"오염물질"}),(0,a.jsx)("option",{value:"채취환경",children:"채취환경"})]}):e.category||"-"}),(0,a.jsx)(c.Td,{className:"font-mono text-xs break-words",children:e.key}),(0,a.jsx)(c.Td,{className:"font-medium break-words",children:l?(0,a.jsx)("input",{type:"text",value:S.name||"",onChange:e=>T({...S,name:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm"}):e.name}),(0,a.jsx)(c.Td,{className:"text-sm break-words",children:l?(0,a.jsx)("input",{type:"text",value:S.englishName||"",onChange:e=>T({...S,englishName:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm"}):e.englishName||"-"}),(0,a.jsx)(c.Td,{className:"text-center break-words",children:l?(0,a.jsx)("input",{type:"text",value:S.unit||"",onChange:e=>T({...S,unit:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm text-center"}):e.unit}),(0,a.jsx)(c.Td,{className:"text-sm break-words",children:l?(0,a.jsx)("input",{type:"text",value:S.classification||"",onChange:e=>T({...S,classification:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm",placeholder:"금속화합물, 무기물질 등"}):e.classification||"-"}),(0,a.jsx)(c.Td,{className:"text-center break-words",children:l?(0,a.jsx)("input",{type:"number",value:null!==(t=S.limit)&&void 0!==t?t:"",onChange:e=>T({...S,limit:parseFloat(e.target.value)}),className:"w-full px-2 py-1 border rounded text-sm text-center",step:"0.01"}):e.limit}),(0,a.jsx)(c.Td,{className:"text-sm break-words",children:l?(0,a.jsx)("input",{type:"text",value:S.analysisMethod||"",onChange:e=>T({...S,analysisMethod:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm",placeholder:"분석방법"}):e.analysisMethod||"-"}),(0,a.jsx)(c.Td,{children:l?(0,a.jsxs)("select",{value:S.inputType||"number",onChange:e=>T({...S,inputType:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm",children:[(0,a.jsx)("option",{value:"number",children:"숫자"}),(0,a.jsx)("option",{value:"select",children:"선택"}),(0,a.jsx)("option",{value:"text",children:"텍스트"})]}):"select"===e.inputType?"선택":"text"===e.inputType?"텍스트":"숫자"}),(0,a.jsx)(c.Td,{children:l?(0,a.jsx)("input",{type:"text",value:S.options||"",onChange:e=>T({...S,options:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm",placeholder:'["옵션1","옵션2"]',disabled:"select"!==S.inputType}):e.options||"-"}),("SUPER_ADMIN"===s||"ORG_ADMIN"===s)&&(0,a.jsx)(c.Td,{children:(0,a.jsx)("div",{className:"flex gap-2 whitespace-nowrap",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>ec(e.key),className:"text-xs text-green-600 hover:underline font-semibold",children:"저장"}),(0,a.jsx)("button",{onClick:ed,className:"text-xs text-gray-600 hover:underline",children:"취소"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>ei(e),className:"text-xs text-green-600 hover:underline",children:"수정"}),(0,a.jsx)("button",{onClick:()=>ex(e),className:"text-xs text-blue-600 hover:underline",children:r?"비활성화":"활성화"}),!r&&(0,a.jsx)("button",{onClick:()=>eo(e),className:"text-xs text-red-600 hover:underline",children:"삭제"})]})})})]},e.key)})})]})}),(0,a.jsx)("div",{className:"md:hidden space-y-3",children:0===el.length?(0,a.jsx)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-6 text-center text-gray-500",children:"등록된 측정항목이 없습니다"}):el.map(e=>{var t;let r=!1!==e.isActive,l=C===e.key;return(0,a.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4 space-y-2 ".concat(r?"":"opacity-50"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"inline-block px-2 py-0.5 rounded text-xs ".concat(r?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"),children:r?"활성":"비활성"}),("SUPER_ADMIN"===s||"ORG_ADMIN"===s)&&!l&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>ei(e),className:"text-xs text-blue-600 hover:underline",children:"수정"}),(0,a.jsx)("button",{onClick:()=>ex(e),className:"text-xs text-blue-600 hover:underline",children:r?"비활성화":"활성화"}),!r&&(0,a.jsx)("button",{onClick:()=>eo(e.key),className:"text-xs text-gray-600 hover:underline",children:"삭제"})]})]}),l?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"구분"}),(0,a.jsxs)("select",{value:S.category||"",onChange:e=>T({...S,category:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm mt-1",children:[(0,a.jsx)("option",{value:"",children:"-"}),(0,a.jsx)("option",{value:"오염물질",children:"오염물질"}),(0,a.jsx)("option",{value:"채취환경",children:"채취환경"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"항목명(한글)"}),(0,a.jsx)("input",{type:"text",value:S.name||"",onChange:e=>T({...S,name:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"항목명(영문)"}),(0,a.jsx)("input",{type:"text",value:S.englishName||"",onChange:e=>T({...S,englishName:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm mt-1"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"단위"}),(0,a.jsx)("input",{type:"text",value:S.unit||"",onChange:e=>T({...S,unit:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"기준값"}),(0,a.jsx)("input",{type:"number",value:S.limit||"",onChange:e=>T({...S,limit:parseFloat(e.target.value)||0}),className:"w-full px-2 py-1 border rounded text-sm mt-1"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsx)("button",{onClick:()=>ec(e.key),className:"flex-1 px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",children:"저장"}),(0,a.jsx)("button",{onClick:ed,className:"flex-1 px-3 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 text-sm",children:"취소"})]})]}):(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDCCB 코드:"})," ",e.key]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDD22 순서:"})," ",e.order||0]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"\uD83C\uDFF7️ 구분:"})," ",e.category||"-"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDCCA 항목분류:"})," ",e.classification||"-"]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDCDD 한글명:"})," ",e.name]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDD24 영문명:"})," ",e.englishName||"-"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDCCF 단위:"})," ",e.unit||"-"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"⚠️ 허용기준값:"})," ",null!==(t=e.limit)&&void 0!==t?t:"-"]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDD2C 측정분석방법:"})," ",e.analysisMethod||"-"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"⌨️ 입력타입:"})," ","select"===e.inputType?"선택":"text"===e.inputType?"텍스트":"숫자"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDCCB 선택옵션:"})," ",e.options||"-"]})]})]},e.key)})})]}),"stack-items"===t&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col",style:{width:"280px"},children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-1.5",children:"고객사 선택"}),(0,a.jsxs)("select",{className:"text-sm h-9 border rounded px-3 bg-white dark:bg-gray-800",value:O,onChange:e=>{L(e.target.value),Z("")},children:[(0,a.jsx)("option",{value:"",children:"고객사를 선택하세요"}),M.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"flex flex-col",style:{width:"280px"},children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-1.5",children:"굴뚝 선택"}),(0,a.jsxs)("select",{className:"text-sm h-9 border rounded px-3 bg-white dark:bg-gray-800",value:I,onChange:e=>Z(e.target.value),disabled:!O,children:[(0,a.jsx)("option",{value:"",children:O?"굴뚝을 선택하세요":"먼저 고객사를 선택하세요"}),R.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," - ",e.fullName||e.siteName]},e.id))]})]})]})}),I&&(0,a.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-semibold mb-1",children:"\uD83D\uDCCA 측정 이력 기반 항목 (자동 감지)"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"해당 굴뚝에서 과거에 측정된 오염물질 항목입니다. 체크를 해제하면 측정 대상에서 제외됩니다."})]}),("SUPER_ADMIN"===s||"ORG_ADMIN"===s)&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.Z,{size:"sm",variant:"secondary",onClick:et,children:"\uD83D\uDD04 전체 기준으로 초기화"}),(0,a.jsx)(i.Z,{size:"sm",onClick:()=>{let e=new Set(F.map(e=>e.key));V(h.filter(s=>("오염물질"===s.category||"채취환경"===s.category)&&!e.has(s.key))),W(!0)},children:"+ 신규추가"})]})]}),z?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"로딩 중..."}):0===F.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)("p",{className:"mb-2",children:"측정 이력이 없습니다."}),(0,a.jsx)("p",{className:"text-sm",children:"측정 데이터를 입력하면 자동으로 항목이 표시됩니다."})]}):(0,a.jsxs)(a.Fragment,{children:[F.filter(e=>"오염물질"===e.category).length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:["\uD83C\uDFED 오염물질 (",F.filter(e=>"오염물질"===e.category).length,"개)"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:F.filter(e=>"오염물질"===e.category).map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-3 hover:shadow-md transition-shadow ".concat(e.isActive?0===e.measurementCount?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700":"bg-white dark:bg-gray-800":"bg-gray-100 dark:bg-gray-900/50 border-gray-300 dark:border-gray-700 opacity-60"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.isActive,onChange:s=>$(e.key,s.target.checked),className:"w-5 h-5 mt-0.5 accent-blue-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-semibold text-base truncate",children:e.name}),!e.isActive&&(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-400 text-white rounded-full",children:"비활성"}),e.isActive&&0===e.measurementCount&&(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-500 text-white rounded-full",children:"NEW"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["코드: ",e.key]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:[(0,a.jsxs)("span",{children:["단위: ",e.unit]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["기준: ",(0,a.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:e.limit})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{className:"font-medium ".concat(0===e.measurementCount?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"),children:["\uD83D\uDCCA ",0===e.measurementCount?"신규 추가":"".concat(e.measurementCount,"회")]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{children:"순서:"}),(0,a.jsx)("input",{type:"number",value:e.order,onChange:s=>ea(e.key,parseInt(s.target.value)||0),className:"w-12 px-1 py-0.5 text-center border rounded text-xs",min:"0"})]})]})]}),0===e.measurementCount&&("SUPER_ADMIN"===s||"ORG_ADMIN"===s)&&(0,a.jsx)("button",{onClick:()=>es(e.key,e.name),className:"text-red-500 hover:text-red-700 text-xs px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20",title:"삭제",children:"\uD83D\uDDD1️"})]})},e.key))})]}),F.filter(e=>"채취환경"===e.category).length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:["\uD83C\uDF21️ 채취환경 (",F.filter(e=>"채취환경"===e.category).length,"개)"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:F.filter(e=>"채취환경"===e.category).map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-3 hover:shadow-md transition-shadow ".concat(e.isActive?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-gray-100 dark:bg-gray-900/50 border-gray-300 dark:border-gray-700 opacity-60"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.isActive,onChange:s=>$(e.key,s.target.checked),className:"w-5 h-5 mt-0.5 accent-blue-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-semibold text-base truncate",children:e.name}),!e.isActive&&(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-400 text-white rounded-full",children:"비활성"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["코드: ",e.key]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:[(0,a.jsxs)("span",{children:["단위: ",e.unit]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:["\uD83D\uDCCA ",e.measurementCount,"회"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{children:"순서:"}),(0,a.jsx)("input",{type:"number",value:e.order,onChange:s=>ea(e.key,parseInt(s.target.value)||0),className:"w-12 px-1 py-0.5 text-center border rounded text-xs",min:"0"})]})]})]}),0===e.measurementCount&&("SUPER_ADMIN"===s||"ORG_ADMIN"===s)&&(0,a.jsx)("button",{onClick:()=>es(e.key,e.name),className:"text-red-500 hover:text-red-700 text-xs px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20",title:"삭제",children:"\uD83D\uDDD1️"})]})},e.key))})]})]})]}),!I&&(0,a.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-12 text-center text-gray-500",children:[(0,a.jsx)("p",{className:"text-lg mb-2",children:"\uD83C\uDFED 굴뚝을 선택하세요"}),(0,a.jsx)("p",{className:"text-sm",children:"고객사와 굴뚝을 선택하면 측정 대상 항목을 관리할 수 있습니다."})]})]}),(0,a.jsx)(d,{isOpen:b,onClose:()=>{N(!1),f(null)},onSuccess:K,item:v}),(0,a.jsx)(x.Z,{isOpen:k,onClose:()=>w(!1),title:"측정항목 일괄업로드",templateHeaders:["항목코드","항목명(한글)","항목명(영문)","기본단위","구분","항목분류","허용기준값","측정분석방법"],exampleRow:["EA-I-0001","먼지","Dust","mg/Sm\xb3","오염물질","무기물질","30","ES 01301.1b"],templateFileName:"측정항목_일괄업로드_양식.csv",onUpload:en,parseInstructions:"항목코드, 항목명(한글), 기본단위, 허용기준값(기본)은 필수 항목입니다. 구분은 '오염물질' 또는 '채취환경'을 입력하세요."}),G&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>W(!1),children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"측정항목 추가"}),(0,a.jsx)("button",{onClick:()=>W(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"이 굴뚝에 추가할 측정항목을 선택하세요. (오염물질 + 채취환경)"}),0===B.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"추가 가능한 항목이 없습니다."}):(0,a.jsx)("div",{className:"space-y-2",children:B.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.key," • ",e.unit," • 기준: ",e.limit]})]}),(0,a.jsx)(i.Z,{size:"sm",onClick:()=>ee(e.key),children:"추가"})]},e.key))}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:(0,a.jsx)(i.Z,{variant:"secondary",onClick:()=>W(!1),children:"닫기"})})]})}),(0,a.jsx)(o.Z,{isOpen:H,title:"측정항목 관리 도움말",sections:[{title:"\uD83D\uDCCC 빠른 시작",content:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"측정항목 등록 3단계"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[(0,a.jsxs)("li",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("strong",{children:"[+ 항목 등록]"})," 버튼 클릭"]}),(0,a.jsxs)("li",{className:"text-gray-700 dark:text-gray-300",children:["필수 정보 입력",(0,a.jsxs)("ul",{className:"list-disc list-inside ml-6 mt-1 space-y-1",children:[(0,a.jsx)("li",{children:"항목코드 (예: dust, sox)"}),(0,a.jsx)("li",{children:"항목명 (예: 먼지, 황산화물)"}),(0,a.jsx)("li",{children:"단위 (예: mg/Sm\xb3, ppm)"}),(0,a.jsx)("li",{children:"분류 (오염물질 / 채취환경)"})]})]}),(0,a.jsxs)("li",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("strong",{children:"[등록]"})," 클릭 → 완료!"]})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-bold text-blue-900 dark:text-blue-300 mb-2",children:"\uD83D\uDCA1 핵심 Tip"}),(0,a.jsxs)("ul",{className:"space-y-1 text-sm text-blue-800 dark:text-blue-200",children:[(0,a.jsx)("li",{children:"• 항목 등록 후 [굴뚝별 측정 대상 설정]에서 활성화"}),(0,a.jsx)("li",{children:'• 드롭다운 항목은 입력타입을 "select"로 설정'}),(0,a.jsx)("li",{children:"• 측정입력 화면에 자동 반영됨"})]})]})]})},{title:"\uD83D\uDCDD 측정항목 등록",content:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"필수 입력 항목"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✅"}),(0,a.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("strong",{children:"항목코드"}),": 고유 식별자 (예: dust, sox, nox)"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✅"}),(0,a.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("strong",{children:"항목명(한글)"}),": 화면에 표시될 이름"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✅"}),(0,a.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("strong",{children:"기본단위"}),": mg/Sm\xb3, ppm, ℃ 등"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✅"}),(0,a.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("strong",{children:"분류"}),": 오염물질 또는 채취환경"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"선택 입력"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"⚪"}),(0,a.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("strong",{children:"항목명(영문)"}),": 영문 보고서용"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"⚪"}),(0,a.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("strong",{children:"항목분류"}),": 무기물질, 유기물질 등"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"⚪"}),(0,a.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("strong",{children:"허용기준값"}),": 배출허용기준 (오염물질만)"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"분류 구분"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"\uD83C\uDFED 오염물질"}),(0,a.jsxs)("p",{className:"text-sm text-red-600 dark:text-red-400",children:["먼지, SOx, NOx, CO 등 배출가스 측정 항목",(0,a.jsx)("br",{}),"→ 측정입력 화면 하단에 표시"]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded p-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"\uD83C\uDF21️ 채취환경"}),(0,a.jsxs)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["기상, 기온, 풍향, 가스온도 등 측정 환경 정보",(0,a.jsx)("br",{}),"→ 측정입력 화면 상단 파란 박스에 표시"]})]})]})]})]})},{title:"⚙️ 굴뚝별 측정 대상 설정",content:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"자동 표시 방식"}),(0,a.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:["굴뚝을 선택하면 ",(0,a.jsx)("strong",{children:"과거 측정이력을 기반"}),"으로 측정 항목이 자동으로 표시됩니다."]}),(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 rounded p-3",children:(0,a.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["예: 1호 굴뚝에서 과거에 먼지, SOx를 측정했다면",(0,a.jsx)("br",{}),"→ 1호 굴뚝 선택 시 먼지, SOx가 자동으로 활성화됨"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"항목 추가/제거"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("li",{children:"[굴뚝별 측정 대상 설정] 탭 선택"}),(0,a.jsx)("li",{children:"고객사와 굴뚝 선택"}),(0,a.jsx)("li",{children:"활성화할 항목 체크 / 비활성화할 항목 체크 해제"}),(0,a.jsx)("li",{children:"[저장] 버튼 클릭"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"순서 조정"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:"측정입력 화면에서 항목이 표시되는 순서를 변경할 수 있습니다."}),(0,a.jsxs)("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,a.jsx)("li",{children:"• 순서 컬럼에 숫자 입력 (작은 숫자가 위에 표시)"}),(0,a.jsx)("li",{children:"• 변경 후 자동 저장됨"})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-bold text-yellow-900 dark:text-yellow-300 mb-2",children:"\uD83D\uDD04 전체 기준으로 초기화"}),(0,a.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["개별 설정을 삭제하고 전체 기본 항목으로 되돌립니다.",(0,a.jsx)("br",{}),"[전체 기준으로 초기화] 버튼 클릭 → 확인"]})]})]})},{title:"\uD83D\uDD3D 드롭다운 항목 설정",content:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"드롭다운이 필요한 경우"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"측정값을 직접 입력하지 않고 미리 정의된 값 중에서 선택하는 항목"}),(0,a.jsxs)("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,a.jsx)("li",{children:"• 기상: 맑음, 흐림, 비, 눈"}),(0,a.jsx)("li",{children:"• 풍향: 북, 북동, 동, 남동, 남, 남서, 서, 북서"}),(0,a.jsx)("li",{children:"• 가동상태: 정상, 비정상"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"설정 방법"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("li",{children:"항목 등록 또는 수정 시"}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"입력타입"}),'을 "select" 선택']}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"선택옵션"}),"에 값 입력 (쉼표로 구분)"]}),(0,a.jsx)("li",{children:"저장"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"선택옵션 입력 예시"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-700 dark:text-green-300 mb-1",children:"✅ 올바른 예:"}),(0,a.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400 font-mono",children:"맑음,흐림,비,눈"})]}),(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-700 dark:text-green-300 mb-1",children:"✅ 공백 포함 가능:"}),(0,a.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400 font-mono",children:"북, 북동, 동, 남동, 남, 남서, 서, 북서"})]})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-bold text-blue-900 dark:text-blue-300 mb-2",children:"\uD83D\uDCA1 Tip"}),(0,a.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["드롭다운 항목은 측정입력 화면에서 선택 박스로 표시됩니다.",(0,a.jsx)("br",{}),"숫자 유효성 검사가 적용되지 않습니다."]})]})]})},{title:"\uD83D\uDCCA 일괄업로드",content:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"업로드 절차"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("li",{children:"[\uD83D\uDCE4 일괄업로드] 버튼 클릭"}),(0,a.jsx)("li",{children:"양식 다운로드 (선택사항)"}),(0,a.jsx)("li",{children:"CSV 파일 작성"}),(0,a.jsx)("li",{children:"파일 선택 및 업로드"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"CSV 파일 형식"}),(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 rounded p-3",children:(0,a.jsxs)("p",{className:"text-xs font-mono text-gray-700 dark:text-gray-300",children:["항목코드,항목명(한글),항목명(영문),기본단위,구분,항목분류,허용기준값(기본)",(0,a.jsx)("br",{}),"dust,먼지,Dust,mg/Sm\xb3,오염물질,무기물질,30",(0,a.jsx)("br",{}),"weather,기상,Weather,,채취환경,,"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-3",children:"필수 컬럼"}),(0,a.jsxs)("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,a.jsx)("li",{children:"• 항목코드"}),(0,a.jsx)("li",{children:"• 항목명(한글)"}),(0,a.jsx)("li",{children:"• 기본단위"}),(0,a.jsx)("li",{children:"• 허용기준값(기본)"})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-bold text-yellow-900 dark:text-yellow-300 mb-2",children:"⚠️ 주의사항"}),(0,a.jsxs)("ul",{className:"space-y-1 text-sm text-yellow-800 dark:text-yellow-200",children:[(0,a.jsx)("li",{children:'• 구분은 "오염물질" 또는 "채취환경"만 입력'}),(0,a.jsx)("li",{children:"• 항목코드가 중복되면 업데이트됨"}),(0,a.jsx)("li",{children:"• CSV 파일은 UTF-8 인코딩 권장"})]})]})]})},{title:"❓ FAQ",content:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("h4",{className:"font-bold mb-2",children:"Q1. 항목을 등록했는데 측정입력 화면에 안 보여요"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"A: [굴뚝별 측정 대상 설정] 탭에서 해당 굴뚝에 항목을 활성화해야 합니다."})]}),(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("h4",{className:"font-bold mb-2",children:"Q2. 드롭다운 항목을 만들려면?"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:'A: 항목 등록 시 입력타입을 "select"로 선택하고, 선택옵션에 값을 쉼표로 구분하여 입력하세요.'})]}),(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("h4",{className:"font-bold mb-2",children:"Q3. 항목 순서를 변경하려면?"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"A: [굴뚝별 측정 대상 설정]에서 순서 컬럼에 숫자를 입력하면 자동 저장됩니다."})]}),(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("h4",{className:"font-bold mb-2",children:"Q4. 전체 기준으로 초기화하면 어떻게 되나요?"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"A: 해당 굴뚝의 개별 설정이 모두 삭제되고, 과거 측정이력 기반으로 자동 표시됩니다."})]}),(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("h4",{className:"font-bold mb-2",children:"Q5. 채취환경 항목은 어디에 표시되나요?"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"A: 측정입력 화면 상단의 파란색 박스에 표시됩니다. 오염물질은 하단에 표시됩니다."})]}),(0,a.jsxs)("div",{className:"pb-4",children:[(0,a.jsx)("h4",{className:"font-bold mb-2",children:"Q6. 항목을 삭제할 수 있나요?"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"A: SUPER_ADMIN만 삭제 가능합니다. 일반적으로는 비활성화를 권장합니다."})]})]})}],onClose:()=>Q(!1)})]})}},3158:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(7437),r=t(2265),l=t(6334);function n(e){let{isOpen:s,onClose:t,title:n,templateHeaders:i,exampleRow:c,templateFileName:d,onUpload:x,parseInstructions:o="양식에 맞게 작성한 CSV 파일을 업로드하세요."}=e,[m,h]=(0,r.useState)(null),[g,u]=(0,r.useState)(!1),[y,p]=(0,r.useState)(""),j=async()=>{if(!m){p("파일을 선택해주세요.");return}u(!0),p("");try{let e=await x(m);if(e.success){let s=e.message||"업로드 완료";p("✅ ".concat(s)),h(null)}else p("❌ ".concat(e.message||"업로드 실패"))}catch(e){p("❌ 오류: ".concat(e.message||"업로드 중 문제가 발생했습니다."))}finally{u(!1)}},b=()=>{g||(h(null),p(""),t())};return s?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:b,children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:n}),(0,a.jsx)("button",{onClick:b,disabled:g,className:"text-gray-500 hover:text-gray-700 disabled:opacity-50",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900/20 p-3 rounded",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"\uD83D\uDCCB 업로드 절차"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[(0,a.jsx)("li",{children:'아래 "업로드 양식 다운로드" 버튼을 클릭하여 CSV 양식을 다운로드합니다.'}),(0,a.jsx)("li",{children:"다운로드한 양식에 데이터를 입력합니다. (예시 행 참고)"}),(0,a.jsx)("li",{children:'"파일 선택" 버튼을 클릭하여 작성한 CSV 파일을 선택합니다.'}),(0,a.jsx)("li",{children:'"업로드" 버튼을 클릭하여 데이터를 등록합니다.'})]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:o}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(l.Z,{variant:"secondary",onClick:()=>{let e=new Blob(["\uFEFF"+i.map(e=>'"'.concat(e,'"')).join(",")+"\n"+c.map(e=>'"'.concat(e,'"')).join(",")+"\n"],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=d,t.click(),URL.revokeObjectURL(s)},disabled:g,className:"flex-1",children:"\uD83D\uDCE5 업로드 양식 다운로드"})}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)("label",{className:"flex-1",children:[(0,a.jsx)("div",{className:"px-4 py-2 border-2 border-dashed rounded cursor-pointer text-center transition-colors ".concat(m?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-400"," ").concat(g?"opacity-50 cursor-not-allowed":""),children:m?(0,a.jsxs)("span",{className:"text-sm",children:["\uD83D\uDCC4 ",m.name]}):(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"\uD83D\uDCC1 파일 선택 (CSV)"})}),(0,a.jsx)("input",{type:"file",accept:".csv",className:"hidden",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];t&&(h(t),p(""))},disabled:g})]})}),(0,a.jsx)(l.Z,{onClick:j,disabled:!m||g,className:"w-full",children:g?"업로드 중...":"업로드"})]}),y&&(0,a.jsx)("div",{className:"text-sm p-4 rounded border-2 ".concat(y.startsWith("✅")?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 border-green-500":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border-red-500"),children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("pre",{className:"whitespace-pre-wrap font-sans",children:y}),(0,a.jsx)(l.Z,{size:"sm",onClick:()=>{p(""),b()},className:"self-end",children:"확인"})]})})]}),!y&&(0,a.jsx)("div",{className:"mt-6 flex justify-end gap-2",children:(0,a.jsx)(l.Z,{variant:"secondary",onClick:b,disabled:g,children:"닫기"})})]})}):null}},8653:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var a=t(7437),r=t(2265);function l(e){let{isOpen:s,onClose:t,title:l,sections:n}=e,[i,c]=(0,r.useState)(0);return s?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),(0,a.jsxs)("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center text-2xl",children:"\uD83D\uDCDA"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:l})]}),(0,a.jsx)("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.length>1&&(0,a.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)("nav",{className:"flex -mb-px overflow-x-auto",children:n.map((e,s)=>(0,a.jsx)("button",{onClick:()=>c(s),className:"px-6 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ".concat(i===s?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:e.title},s))})}),(0,a.jsx)("div",{className:"px-6 py-6 max-h-[70vh] overflow-y-auto",children:(0,a.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:"string"==typeof n[i].content?(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:n[i].content}}):n[i].content})}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-4 flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"\uD83D\uDCA1 추가 도움이 필요하시면 시스템 관리자에게 문의하세요."}),(0,a.jsx)("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"닫기"})]})]})]})}):null}},6334:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(7437);t(2265);let r={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},l={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function n(e){let{variant:s="primary",size:t="md",className:n="",...i}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat(r[s]," ").concat(l[t]," ").concat(n),...i})}},2827:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(7437);function r(e){let{className:s="",...t}=e;return(0,a.jsx)("input",{className:"".concat("rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20"," ").concat(s),...t})}t(2265)},1515:function(e,s,t){"use strict";t.d(s,{Td:function(){return d},Th:function(){return c},Tr:function(){return i},hr:function(){return l},iA:function(){return r},p3:function(){return n}});var a=t(7437);function r(e){let{className:s="",...t}=e;return(0,a.jsx)("table",{className:"w-full text-sm border-collapse ".concat(s),...t})}function l(e){return(0,a.jsx)("thead",{...e})}function n(e){return(0,a.jsx)("tbody",{...e})}function i(e){return(0,a.jsx)("tr",{className:"border-b last:border-0 border-gray-200 dark:border-white/10",...e})}function c(e){let{className:s="",...t}=e;return(0,a.jsx)("th",{className:"text-left py-2 px-3 font-medium text-gray-600 dark:text-gray-300 ".concat(s),...t})}function d(e){let{className:s="",...t}=e;return(0,a.jsx)("td",{className:"py-2 px-3 ".concat(s),...t})}t(2265)},2397:function(e,s,t){"use strict";t.d(s,{H:function(){return d},a:function(){return x}});var a=t(7437),r=t(2265),l=t(605),n=t(9376);function i(){return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"mb-16",children:[(0,a.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white text-center",children:"오염물질 측정 관리 시스템"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Pollutant Measurement Management System"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-gray-200 dark:border-gray-700 border-t-blue-600 rounded-full animate-spin"})}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:"로딩 중..."})]}),(0,a.jsx)("div",{className:"mt-16"})]})}let c=(0,r.createContext)(null);function d(e){let{children:s}=e,{data:t,status:d}=(0,l.useSession)(),[x,o]=(0,r.useState)(null),[m,h]=(0,r.useState)(!0),g=(0,n.usePathname)();(0,r.useEffect)(()=>{"loading"!==d&&h(!1),(null==t?void 0:t.user)?o(t.user):"unauthenticated"===d&&o(null)},[t,d]);let u="loading"===d||m;return!u||"/login"===g||(null==g?void 0:g.startsWith("/register"))||(null==g?void 0:g.startsWith("/invite"))||(null==g?void 0:g.startsWith("/auth"))?(0,a.jsx)(c.Provider,{value:{user:x,loading:u},children:s}):(0,a.jsx)(i,{})}function x(){let e=(0,r.useContext)(c);if(!e)throw Error("AuthProvider is missing");return e}}},function(e){e.O(0,[605,2971,2117,1744],function(){return e(e.s=9917)}),_N_E=e.O()}]);