(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6973],{7603:function(e,t,r){Promise.resolve().then(r.bind(r,5671))},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},5671:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(7437),s=r(2265),n=r(605),d=r(9376),o=r(6334),c=r(2827);function i(){let{data:e}=(0,n.useSession)(),t=(0,d.useRouter)(),[r,i]=(0,s.useState)(""),[u,l]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[x,p]=(0,s.useState)(!1),[f,g]=(0,s.useState)(""),b=async e=>{if(e.preventDefault(),g(""),u!==m){g("새 비밀번호가 일치하지 않습니다.");return}if(u.length<8){g("비밀번호는 최소 8자 이상이어야 합니다.");return}try{p(!0);let e=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:r,newPassword:u})}),a=await e.json();e.ok?(alert("비밀번호가 변경되었습니다. 다시 로그인해주세요."),await (0,n.signOut)({redirect:!1}),t.push("/login")):g(a.error||"비밀번호 변경에 실패했습니다.")}catch(e){g("비밀번호 변경 중 오류가 발생했습니다.")}finally{p(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"비밀번호 변경 필요"}),(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["관리자가 비밀번호를 초기화했습니다.",(0,a.jsx)("br",{}),"새로운 비밀번호로 변경해주세요."]})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:b,children:[(0,a.jsxs)("div",{className:"rounded-md shadow-sm space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"현재 비밀번호 (기본: 12345678)"}),(0,a.jsx)(c.Z,{id:"current-password",name:"current-password",type:"password",required:!0,value:r,onChange:e=>i(e.target.value),placeholder:"현재 비밀번호"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"새 비밀번호"}),(0,a.jsx)(c.Z,{id:"new-password",name:"new-password",type:"password",required:!0,value:u,onChange:e=>l(e.target.value),placeholder:"새 비밀번호 (최소 8자)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"새 비밀번호 확인"}),(0,a.jsx)(c.Z,{id:"confirm-password",name:"confirm-password",type:"password",required:!0,value:m,onChange:e=>h(e.target.value),placeholder:"새 비밀번호 확인"})]})]}),f&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 dark:bg-red-900/20 p-4",children:(0,a.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:f})}),(0,a.jsx)("div",{children:(0,a.jsx)(o.Z,{type:"submit",disabled:x,className:"w-full",children:x?"변경 중...":"비밀번호 변경"})})]})]})})}},6334:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(7437);r(2265);let s={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},n={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function d(e){let{variant:t="primary",size:r="md",className:d="",...o}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat(s[t]," ").concat(n[r]," ").concat(d),...o})}},2827:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437);function s(e){let{className:t="",...r}=e;return(0,a.jsx)("input",{className:"".concat("rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20"," ").concat(t),...r})}r(2265)}},function(e){e.O(0,[605,2971,2117,1744],function(){return e(e.s=7603)}),_N_E=e.O()}]);