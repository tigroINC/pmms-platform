(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1867],{4102:function(e,t,r){Promise.resolve().then(r.bind(r,4598))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:d="",children:u,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:l?24*Number(n)/Number(s):n,className:i("lucide",d),...!u&&!o(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:o,...c}=r;return(0,a.createElement)(d,{ref:n,iconNode:t,className:i("lucide-".concat(s(l(e))),"lucide-".concat(e),o),...c})});return r.displayName=l(e),r}},3245:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},4598:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(7437),s=r(2265),n=r(2397),l=r(9376),i=r(6334),o=r(2827),c=r(2657);function d(){let{user:e}=(0,n.a)(),t=(0,l.useRouter)(),[r,d]=(0,s.useState)({siteCode:"",siteName:"",location:"",facilityType:"",height:"",diameter:"",category:""}),[u,m]=(0,s.useState)(!1),h=async e=>{if(e.preventDefault(),!r.siteCode||!r.siteName){alert("현장 코드와 명칭은 필수입니다.");return}m(!0);try{let e=await fetch("/api/customer/stacks/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(e.ok)alert("굴뚝이 등록되었습니다."),t.push("/customer/stacks");else{let t=await e.json();alert(t.error||"등록 실패")}}catch(e){alert("오류가 발생했습니다.")}finally{m(!1)}};return(0,a.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(i.Z,{onClick:()=>t.back(),className:"mb-2 text-sm",children:"← 돌아가기"}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-1",children:"굴뚝 직접 등록"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"우리 현장의 굴뚝 정보를 직접 등록할 수 있습니다."})]}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["현장 코드 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"}),(0,a.jsx)(c.b,{title:"현장 코드란?",content:"우리 현장에서 실제로 사용하는 굴뚝 식별 코드입니다."})]}),(0,a.jsx)(o.Z,{value:r.siteCode,onChange:e=>d({...r,siteCode:e.target.value}),placeholder:"예: A-001",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["현장 명칭 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"}),(0,a.jsx)(c.b,{content:"현장에서 사용하는 굴뚝의 공식 명칭입니다. (예: 1공장 1호 배출시설 굴뚝, Silp PC 300 B/F)"})]}),(0,a.jsx)(o.Z,{value:r.siteName,onChange:e=>d({...r,siteName:e.target.value}),placeholder:"예: 1공장 1호 배출시설 굴뚝",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["위치",(0,a.jsx)(c.b,{content:"굴뚝이 설치된 구체적인 위치를 입력해주세요."})]}),(0,a.jsx)(o.Z,{value:r.location,onChange:e=>d({...r,location:e.target.value}),placeholder:"예: 1공장 북측"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["배출시설 종류",(0,a.jsx)(c.b,{content:"해당 굴뚝이 연결된 배출시설의 종류를 입력해주세요. (예: 고체입자상물질 저장시설, 연소시설)"})]}),(0,a.jsx)(o.Z,{value:r.facilityType,onChange:e=>d({...r,facilityType:e.target.value}),placeholder:"예: 고체입자상물질 저장시설"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["굴뚝 높이 (m)",(0,a.jsx)(c.b,{content:"굴뚝의 지상으로부터의 높이를 미터 단위로 입력해주세요."})]}),(0,a.jsx)(o.Z,{type:"number",step:"0.1",value:r.height,onChange:e=>d({...r,height:e.target.value}),placeholder:"예: 19.6"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["굴뚝 안지름 (m)",(0,a.jsx)(c.b,{content:"굴뚝 내부의 지름을 미터 단위로 입력해주세요."})]}),(0,a.jsx)(o.Z,{type:"number",step:"0.01",value:r.diameter,onChange:e=>d({...r,diameter:e.target.value}),placeholder:"예: 0.30"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["굴뚝 종별 (종)",(0,a.jsx)(c.b,{content:"배출허용기준 적용을 위한 굴뚝 종별을 입력해주세요. (예: 1종, 2종, 3종, 4종, 5종)"})]}),(0,a.jsx)(o.Z,{value:r.category,onChange:e=>d({...r,category:e.target.value}),placeholder:"예: 5"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,a.jsx)(i.Z,{type:"button",onClick:()=>t.back(),className:"flex-1 bg-gray-500 hover:bg-gray-600",disabled:u,children:"취소"}),(0,a.jsx)(i.Z,{type:"submit",className:"flex-1",disabled:u,children:u?"등록 중...":"등록"})]})]})]})}},6334:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(7437);r(2265);let s={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},n={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function l(e){let{variant:t="primary",size:r="md",className:l="",...i}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat(s[t]," ").concat(n[r]," ").concat(l),...i})}},2657:function(e,t,r){"use strict";r.d(t,{b:function(){return l}});var a=r(7437),s=r(3245),n=r(2265);function l(e){let{content:t,title:r}=e,[l,i]=(0,n.useState)(!1);return(0,a.jsxs)("div",{className:"relative inline-block ml-1",children:[(0,a.jsx)("button",{type:"button",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>i(!l),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,a.jsx)(s.Z,{className:"h-4 w-4"})}),l&&(0,a.jsxs)("div",{className:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-gray-900 dark:bg-gray-800 text-white text-sm rounded-lg shadow-lg",children:[r&&(0,a.jsx)("p",{className:"font-semibold mb-1",children:r}),(0,a.jsx)("p",{className:"text-gray-200",children:t}),(0,a.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900 dark:border-t-gray-800"})]})]})}},2827:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437);function s(e){let{className:t="",...r}=e;return(0,a.jsx)("input",{className:"".concat("rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20"," ").concat(t),...r})}r(2265)},2397:function(e,t,r){"use strict";r.d(t,{H:function(){return c},a:function(){return d}});var a=r(7437),s=r(2265),n=r(605),l=r(9376);function i(){return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"mb-16",children:[(0,a.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white text-center",children:"오염물질 측정 관리 시스템"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Pollutant Measurement Management System"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-gray-200 dark:border-gray-700 border-t-blue-600 rounded-full animate-spin"})}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:"로딩 중..."})]}),(0,a.jsx)("div",{className:"mt-16"})]})}let o=(0,s.createContext)(null);function c(e){let{children:t}=e,{data:r,status:c}=(0,n.useSession)(),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(!0),x=(0,l.usePathname)();(0,s.useEffect)(()=>{"loading"!==c&&h(!1),(null==r?void 0:r.user)?u(r.user):"unauthenticated"===c&&u(null)},[r,c]);let b="loading"===c||m;return!b||"/login"===x||(null==x?void 0:x.startsWith("/register"))||(null==x?void 0:x.startsWith("/invite"))||(null==x?void 0:x.startsWith("/auth"))?(0,a.jsx)(o.Provider,{value:{user:d,loading:b},children:t}):(0,a.jsx)(i,{})}function d(){let e=(0,s.useContext)(o);if(!e)throw Error("AuthProvider is missing");return e}}},function(e){e.O(0,[605,2971,2117,1744],function(){return e(e.s=4102)}),_N_E=e.O()}]);