(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8697],{67:function(){},2061:function(){},2078:function(e,a,s){Promise.resolve().then(s.bind(s,3984))},9376:function(e,a,s){"use strict";var t=s(5475);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},3984:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return m}});var t=s(7437),l=s(2265),r=s(2397),d=s(9376),n=s(6334),i=s(2827),c=s(6660);function m(){let{user:e}=(0,r.a)(),a=(0,d.useRouter)(),s=(0,d.useParams)(),m=null==s?void 0:s.id,[o,h]=(0,l.useState)(null),[x,u]=(0,l.useState)({}),[g,p]=(0,l.useState)(!1),[b,v]=(0,l.useState)(!1),j=(null==o?void 0:o.status)!=="DRAFT";(0,l.useEffect)(()=>{m&&y()},[m]);let y=async()=>{p(!0);try{let e=await fetch("/api/reports/".concat(m)),s=await e.json();if(e.ok){h(s.data);let e=s.data;!e.analysisStart&&e.measuredAt&&(e.analysisStart=new Date(e.measuredAt).toISOString().split("T")[0]),!e.samplingDate&&e.measuredAt&&(e.samplingDate=e.measuredAt),u(e)}else alert(s.error||"보고서 조회 실패"),a.push("/reports")}catch(e){alert(e.message||"보고서 조회 중 오류가 발생했습니다."),a.push("/reports")}finally{p(!1)}},N=(e,a)=>{u(s=>({...s,[e]:a}))},f=async e=>{v(!0);try{let s=await fetch("/api/reports/".concat(m),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,status:e||x.status})}),t=await s.json();s.ok?(alert("CONFIRMED"===e?"보고서가 확정되었습니다.":"저장되었습니다."),t.data.id!==m?a.push("/reports/".concat(t.data.id)):y()):alert(t.error||"저장 실패")}catch(e){alert(e.message||"저장 중 오류가 발생했습니다.")}finally{v(!1)}},w=(e,a,s)=>{let t=JSON.parse(x.measurements||"[]");t[e][a]=s,N("measurements",JSON.stringify(t))};if(g)return(0,t.jsx)("div",{className:"p-6 text-center",children:"로딩 중..."});if(!o)return(0,t.jsx)("div",{className:"p-6 text-center",children:"보고서를 찾을 수 없습니다."});let k=JSON.parse(x.measurements||"[]").filter(e=>null!==e.value&&void 0!==e.value&&""!==e.value&&0!==e.value);return(0,t.jsxs)("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"대기측정기록부"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["버전 ",o.version," | ","DRAFT"===o.status?"작성중":"CONFIRMED"===o.status?"확정":"공유됨"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(n.Z,{variant:"secondary",onClick:()=>(0,c.n)([o],"보고서_".concat(o.companyName,"_").concat(new Date(o.measuredAt).toLocaleDateString(),".xlsx")),className:"flex-1 md:flex-none",children:"\uD83D\uDCCA 엑셀"}),(0,t.jsx)(n.Z,{variant:"secondary",onClick:()=>window.open("/reports/".concat(m,"/pdf"),"_blank"),className:"flex-1 md:flex-none",children:"PDF 출력"}),!j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Z,{variant:"secondary",onClick:()=>f(),className:"flex-1 md:flex-none",children:"임시저장"}),(0,t.jsx)(n.Z,{onClick:()=>f("CONFIRMED"),className:"flex-1 md:flex-none",children:"확정"})]}),(0,t.jsx)(n.Z,{variant:"secondary",onClick:()=>a.push("/reports"),className:"flex-1 md:flex-none",children:"목록"})]})]})}),(0,t.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4 md:p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"의뢰인 정보"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"상호(사업장명)"}),(0,t.jsx)(i.Z,{value:x.companyName||"",onChange:e=>N("companyName",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"주소"}),(0,t.jsx)(i.Z,{value:x.address||"",onChange:e=>N("address",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"대표자"}),(0,t.jsx)(i.Z,{value:x.representative||"",onChange:e=>N("representative",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"환경기술인"}),(0,t.jsx)(i.Z,{value:x.environmentalTech||"",onChange:e=>N("environmentalTech",e.target.value),disabled:j,placeholder:"직접 입력"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4 md:p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"일반현황"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"업종"}),(0,t.jsx)(i.Z,{value:x.industry||"",onChange:e=>N("industry",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"시설종류"}),(0,t.jsx)(i.Z,{value:x.facilityType||"",onChange:e=>N("facilityType",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"사업장종별"}),(0,t.jsx)(i.Z,{value:x.siteCategory||"",onChange:e=>N("siteCategory",e.target.value),disabled:j})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4 md:p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"의뢰내용"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"측정용도"}),(0,t.jsx)(i.Z,{value:x.purpose||"",onChange:e=>N("purpose",e.target.value),disabled:j,placeholder:"직접 입력"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"굴뚝명칭"}),(0,t.jsx)(i.Z,{value:x.stackName||"",onChange:e=>N("stackName",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"높이(m)"}),(0,t.jsx)(i.Z,{type:"number",value:x.stackHeight||"",onChange:e=>N("stackHeight",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"안지름(m)"}),(0,t.jsx)(i.Z,{type:"number",value:x.stackDiameter||"",onChange:e=>N("stackDiameter",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"굴뚝종별"}),(0,t.jsx)(i.Z,{value:x.stackType||"",onChange:e=>N("stackType",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"의뢰항목"}),(0,t.jsx)(i.Z,{value:x.requestedItems||"",onChange:e=>N("requestedItems",e.target.value),disabled:j,placeholder:"직접 입력"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4 md:p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"시료채취"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"날씨"}),(0,t.jsx)(i.Z,{value:x.weather||"",onChange:e=>N("weather",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"기온(℃)"}),(0,t.jsx)(i.Z,{type:"number",value:x.temp||"",onChange:e=>N("temp",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"습도(%)"}),(0,t.jsx)(i.Z,{type:"number",value:x.humidity||"",onChange:e=>N("humidity",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"기압(mmHg)"}),(0,t.jsx)(i.Z,{type:"number",value:x.pressure||"",onChange:e=>N("pressure",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"풍향"}),(0,t.jsx)(i.Z,{value:x.windDir||"",onChange:e=>N("windDir",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"풍속(m/sec)"}),(0,t.jsx)(i.Z,{type:"number",value:x.wind||"",onChange:e=>N("wind",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"가스속도(m/s)"}),(0,t.jsx)(i.Z,{type:"number",value:x.gasVel||"",onChange:e=>N("gasVel",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"가스온도(℃)"}),(0,t.jsx)(i.Z,{type:"number",value:x.gasTemp||"",onChange:e=>N("gasTemp",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"수분함량(%)"}),(0,t.jsx)(i.Z,{type:"number",value:x.moisture||"",onChange:e=>N("moisture",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"실측산소농도(%)"}),(0,t.jsx)(i.Z,{type:"number",value:x.o2Measured||"",onChange:e=>N("o2Measured",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"표준산소농도(%)"}),(0,t.jsx)(i.Z,{type:"number",value:x.o2Standard||"",onChange:e=>N("o2Standard",parseFloat(e.target.value)),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"배출가스유량(S㎥/min)"}),(0,t.jsx)(i.Z,{type:"number",value:x.flow||"",onChange:e=>N("flow",parseFloat(e.target.value)),disabled:j})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"배출가스 기타"}),(0,t.jsx)(i.Z,{value:x.gasNote||"",onChange:e=>N("gasNote",e.target.value),disabled:j,placeholder:"직접 입력"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"채취일"}),(0,t.jsx)(i.Z,{type:"date",value:x.samplingDate?new Date(x.samplingDate).toISOString().split("T")[0]:"",onChange:e=>N("samplingDate",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"채취시간 시작"}),(0,t.jsx)(i.Z,{type:"time",value:x.samplingStart||"",onChange:e=>N("samplingStart",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"채취시간 종료"}),(0,t.jsx)(i.Z,{type:"time",value:x.samplingEnd||"",onChange:e=>N("samplingEnd",e.target.value),disabled:j})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"시료채취자1"}),(0,t.jsx)(i.Z,{value:x.sampler||"",onChange:e=>N("sampler",e.target.value),disabled:j,placeholder:"직접 입력"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"시료채취자2"}),(0,t.jsx)(i.Z,{value:x.sampler2||"",onChange:e=>N("sampler2",e.target.value),disabled:j,placeholder:"직접 입력"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4 md:p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"측정분석결과"}),(0,t.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm border-collapse table-fixed",children:[(0,t.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border p-2 w-32",children:"측정항목"}),(0,t.jsx)("th",{className:"border p-2 w-24",children:"허용기준"}),(0,t.jsx)("th",{className:"border p-2 w-24",children:"분석값"}),(0,t.jsx)("th",{className:"border p-2 w-20",children:"단위"}),(0,t.jsx)("th",{className:"border p-2 w-40",children:"측정분석방법"}),(0,t.jsx)("th",{className:"border p-2 w-32",children:"측정시간 시작"}),(0,t.jsx)("th",{className:"border p-2 w-32",children:"측정시간 종료"}),(0,t.jsx)("th",{className:"border p-2 w-40",children:"비고"})]})}),(0,t.jsx)("tbody",{children:k.map((e,a)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border p-2 break-words",children:e.item}),(0,t.jsx)("td",{className:"border p-2",children:(0,t.jsx)(i.Z,{type:"number",value:e.limit||"",onChange:e=>w(a,"limit",parseFloat(e.target.value)),disabled:j,className:"text-sm w-full"})}),(0,t.jsx)("td",{className:"border p-2",children:(0,t.jsx)(i.Z,{type:"number",value:e.value||"",onChange:e=>w(a,"value",parseFloat(e.target.value)),disabled:j,className:"text-sm w-full"})}),(0,t.jsx)("td",{className:"border p-2 break-words",children:e.unit}),(0,t.jsx)("td",{className:"border p-2",children:(0,t.jsx)("textarea",{value:e.method||"",onChange:e=>w(a,"method",e.target.value),disabled:j,rows:2,className:"text-sm w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none disabled:opacity-50"})}),(0,t.jsx)("td",{className:"border p-2",children:(0,t.jsx)(i.Z,{type:"time",value:e.startTime||"",onChange:e=>w(a,"startTime",e.target.value),disabled:j,className:"text-sm w-full"})}),(0,t.jsx)("td",{className:"border p-2",children:(0,t.jsx)(i.Z,{type:"time",value:e.endTime||"",onChange:e=>w(a,"endTime",e.target.value),disabled:j,className:"text-sm w-full"})}),(0,t.jsx)("td",{className:"border p-2",children:(0,t.jsx)("textarea",{value:e.note||"",onChange:e=>w(a,"note",e.target.value),disabled:j,rows:2,placeholder:"비고",className:"text-sm w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none disabled:opacity-50"})})]},a))})]})}),(0,t.jsx)("div",{className:"md:hidden space-y-4",children:k.map((e,a)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 space-y-3 bg-white dark:bg-gray-800",children:[(0,t.jsx)("div",{className:"font-semibold text-base border-b pb-2",children:e.item}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 dark:text-gray-400",children:"허용기준"}),(0,t.jsx)(i.Z,{type:"number",value:e.limit||"",onChange:e=>w(a,"limit",parseFloat(e.target.value)),disabled:j,className:"text-sm w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 dark:text-gray-400",children:"분석값"}),(0,t.jsx)(i.Z,{type:"number",value:e.value||"",onChange:e=>w(a,"value",parseFloat(e.target.value)),disabled:j,className:"text-sm w-full"})]}),(0,t.jsxs)("div",{className:"space-y-1 col-span-2",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"단위"}),(0,t.jsx)("div",{className:"text-sm p-2 bg-gray-50 dark:bg-gray-700 rounded",children:e.unit})]}),(0,t.jsxs)("div",{className:"space-y-1 col-span-2",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"측정분석방법"}),(0,t.jsx)(i.Z,{value:e.method||"",onChange:e=>w(a,"method",e.target.value),disabled:j,className:"text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"측정시간 시작"}),(0,t.jsx)(i.Z,{type:"time",value:e.startTime||"",onChange:e=>w(a,"startTime",e.target.value),disabled:j,className:"text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"측정시간 종료"}),(0,t.jsx)(i.Z,{type:"time",value:e.endTime||"",onChange:e=>w(a,"endTime",e.target.value),disabled:j,className:"text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-1 col-span-2",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"비고"}),(0,t.jsx)(i.Z,{value:e.note||"",onChange:e=>w(a,"note",e.target.value),disabled:j,className:"text-sm",placeholder:"비고"})]})]})]},a))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"분석기간 시작"}),(0,t.jsx)(i.Z,{type:"date",value:x.analysisStart||"",onChange:e=>N("analysisStart",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"분석기간 종료"}),(0,t.jsx)(i.Z,{type:"date",value:x.analysisEnd||"",onChange:e=>N("analysisEnd",e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"분석기술인"}),(0,t.jsx)(i.Z,{value:x.analyst||"",onChange:e=>N("analyst",e.target.value),disabled:j,placeholder:"직접 입력"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"책임기술인"}),(0,t.jsx)(i.Z,{value:x.chiefTech||"",onChange:e=>N("chiefTech",e.target.value),disabled:j,placeholder:"직접 입력"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4 md:p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"종합의견"}),(0,t.jsx)("textarea",{className:"w-full border rounded p-3 min-h-[120px] dark:bg-gray-800",value:x.opinion||"",onChange:e=>N("opinion",e.target.value),disabled:j,placeholder:"종합의견을 입력하세요"})]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[!j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Z,{variant:"secondary",onClick:()=>f(),disabled:b,children:b?"저장 중...":"임시저장"}),(0,t.jsx)(n.Z,{onClick:()=>f("CONFIRMED"),disabled:b,children:b?"저장 중...":"확정"})]}),(0,t.jsx)(n.Z,{variant:"secondary",onClick:()=>a.push("/reports"),children:"목록"})]})]})}},6334:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(7437);s(2265);let l={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},r={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function d(e){let{variant:a="primary",size:s="md",className:d="",...n}=e;return(0,t.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat(l[a]," ").concat(r[s]," ").concat(d),...n})}},2827:function(e,a,s){"use strict";s.d(a,{Z:function(){return l}});var t=s(7437);function l(e){let{className:a="",...s}=e;return(0,t.jsx)("input",{className:"".concat("rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20"," ").concat(a),...s})}s(2265)},2397:function(e,a,s){"use strict";s.d(a,{H:function(){return c},a:function(){return m}});var t=s(7437),l=s(2265),r=s(605),d=s(9376);function n(){return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900",children:[(0,t.jsxs)("div",{className:"mb-16",children:[(0,t.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white text-center",children:"오염물질 측정 관리 시스템"}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Pollutant Measurement Management System"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-gray-200 dark:border-gray-700 border-t-blue-600 rounded-full animate-spin"})}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:"로딩 중..."})]}),(0,t.jsx)("div",{className:"mt-16"})]})}let i=(0,l.createContext)(null);function c(e){let{children:a}=e,{data:s,status:c}=(0,r.useSession)(),[m,o]=(0,l.useState)(null),[h,x]=(0,l.useState)(!0),u=(0,d.usePathname)();(0,l.useEffect)(()=>{"loading"!==c&&x(!1),(null==s?void 0:s.user)?o(s.user):"unauthenticated"===c&&o(null)},[s,c]);let g="loading"===c||h;return!g||"/login"===u||(null==u?void 0:u.startsWith("/register"))||(null==u?void 0:u.startsWith("/invite"))||(null==u?void 0:u.startsWith("/auth"))?(0,t.jsx)(i.Provider,{value:{user:m,loading:g},children:a}):(0,t.jsx)(n,{})}function m(){let e=(0,l.useContext)(i);if(!e)throw Error("AuthProvider is missing");return e}},6660:function(e,a,s){"use strict";s.d(a,{n:function(){return l}});var t=s(2093);function l(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"대기측정기록부.xlsx",s=[["외뢰인","외뢰인","외뢰인","외뢰인","일반현황","일반현황","일반현황","의뢰내용","의뢰내용","의뢰내용","의뢰내용","의뢰내용","의뢰내용","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","시료채취","측정분석결과","측정분석결과","측정분석결과","측정분석결과","측정분석결과","측정분석결과","측정분석결과","측정분석결과","측정분석결과","측정분석결과","측정분석결과","측정분석결과","종합의견"],["상호(사업장명)","사업장소재지","대표자(의뢰인)","환경기술인","업종","시설종류","사업장종별","측정용도","굴뚝정보","굴뚝정보","굴뚝정보","굴뚝정보","의뢰항목","현장기상","현장기상","현장기상","현장기상","현장기상","현장기상","배출가스","배출가스","배출가스","배출가스","배출가스","배출가스","배출가스","배출가스","채취일","채취시간(시작)","채취시간(종료)","시료채취자1","시료채취자2","측정항목","허용기준","분석값","단위","측정분석방법","측정시간(시작)","측정시간(종료)","비고","분석기간(시작)","분석기간(종료)","분석기술인","책임기술인","종합의견"],["","","","","","","","","굴뚝명칭","높이","안지름(측정공)","굴뚝종별","","날씨","기온","습도","기압","풍향","풍속","표준산소농도","실측산소농도","배출가스 유량(산소보정 전)","배출가스 유량(산소보정 후)","수분량","배출가스 온도","배출가스 유속","기타","","","","","","","","","","","","","","","","","",""]];e.forEach(e=>{let a=JSON.parse(e.measurements||"[]"),t=[e.companyName||"",e.address||"",e.representative||"",e.environmentalTech||"",e.industry||"",e.facilityType||"",e.siteCategory||"",e.purpose||"",e.stackName||"",e.stackHeight||"",e.stackDiameter||"",e.stackType||"",e.requestedItems||"",e.weather||"",e.temp||"",e.humidity||"",e.pressure||"",e.windDir||"",e.wind||"",e.o2Standard||"",e.o2Measured||"",e.flow||"",e.flowCorrected||"",e.moisture||"",e.gasTemp||"",e.gasVel||"",e.gasNote||"",e.samplingDate?new Date(e.samplingDate).toLocaleDateString():"",e.samplingStart||"",e.samplingEnd||"",e.sampler||"",e.sampler2||""];0===a.length?s.push([...t,"","","","","","","","",e.analysisStart||"",e.analysisEnd||"",e.analyst||"",e.chiefTech||"",e.opinion||""]):a.forEach(a=>{s.push([...t,a.item||"",a.limit||"",a.value||"",a.unit||"",a.method||"",a.startTime||"",a.endTime||"",a.note||"",e.analysisStart||"",e.analysisEnd||"",e.analyst||"",e.chiefTech||"",e.opinion||""])})});let l=t.P6.aoa_to_sheet(s);l["!cols"]=[{wch:20},{wch:30},{wch:10},{wch:10},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:8},{wch:12},{wch:10},{wch:30},{wch:8},{wch:8},{wch:8},{wch:8},{wch:8},{wch:8},{wch:10},{wch:10},{wch:15},{wch:15},{wch:8},{wch:10},{wch:10},{wch:15},{wch:12},{wch:12},{wch:12},{wch:10},{wch:10},{wch:15},{wch:10},{wch:10},{wch:10},{wch:20},{wch:12},{wch:12},{wch:15},{wch:12},{wch:12},{wch:10},{wch:10},{wch:30}];let r=t.P6.book_new();t.P6.book_append_sheet(r,l,"대기측정기록부"),t.NC(r,a)}}},function(e){e.O(0,[1425,605,2971,2117,1744],function(){return e(e.s=2078)}),_N_E=e.O()}]);