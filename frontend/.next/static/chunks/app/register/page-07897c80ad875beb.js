(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4011],{6945:function(e,a,r){Promise.resolve().then(r.bind(r,8420))},8420:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return m}});var s=r(7437),t=r(2265),d=r(9376),l=r(7648),n=r(2827),i=r(6334);function o(e){let{userType:a,onClose:r,onSuccess:d,initialName:l=""}=e,[o,m]=(0,t.useState)(!1),[x,c]=(0,t.useState)(""),[h,g]=(0,t.useState)(!1),[b,u]=(0,t.useState)({name:l,code:"",businessNumber:"",corporateNumber:"",fullName:"",representative:"",siteType:"",address:"",businessType:"",industry:"",siteCategory:"",phone:"",website:"",fax:"",establishedDate:"",adminEmail:"",adminPassword:"",adminPasswordConfirm:"",adminName:"",adminPhone:"",adminDepartment:"",adminPosition:"",registrationReason:"",notes:""}),y=e=>{let{name:a,value:r}=e.target;u(e=>({...e,[a]:r}))},p=async e=>{if(e.preventDefault(),c(""),b.adminPassword!==b.adminPasswordConfirm){c("비밀번호가 일치하지 않습니다.");return}if(b.adminPassword.length<8){c("비밀번호는 8자 이상이어야 합니다.");return}g(!0)},j=async()=>{c(""),m(!0);try{let t="organization"===a?"/api/organizations/register":"/api/customers/register",l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),n=await l.json();if(l.ok){var e,r,s;let t={id:(null===(e=n.data)||void 0===e?void 0:e.id)||(null===(r=n.organization)||void 0===r?void 0:r.id)||(null===(s=n.customer)||void 0===s?void 0:s.id),name:b.name,businessNumber:b.businessNumber,address:b.address,type:a};d(t)}else c(n.error||"회사 등록에 실패했습니다.")}catch(e){c("회사 등록 중 오류가 발생했습니다.")}finally{m(!1)}};return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:r}),(0,s.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between z-10",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["organization"===a?"환경측정업체":"고객사"," 신규 등록"]}),(0,s.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("form",{onSubmit:p,className:"p-6 space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"회사 정보"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({name:"organization"===a?"법인명":"고객사명",code:"코드",businessNumber:"사업자등록번호",corporateNumber:"법인등록번호",fullName:"정식명칭",representative:"대표자명",siteType:"사업장구분",address:"주소",businessType:"업태",industry:"업종",siteCategory:"사업장종별",phone:"전화번호",website:"홈페이지",fax:"팩스번호",establishedDate:"설립일"}).map(e=>{let[a,r]=e;return(0,s.jsxs)("div",{className:"address"===a?"md:col-span-2":"",children:[(0,s.jsxs)("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r,("name"===a||"businessNumber"===a)&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,s.jsx)(n.Z,{id:a,name:a,type:"establishedDate"===a?"date":"text",value:b[a],onChange:y,required:"name"===a||"businessNumber"===a,className:"w-full",placeholder:"businessNumber"===a?"123-45-67890":"corporateNumber"===a?"123456-1234567":""})]},a)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"관리자 정보"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"adminEmail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["이메일 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(n.Z,{id:"adminEmail",name:"adminEmail",type:"email",value:b.adminEmail,onChange:y,required:!0,className:"w-full",placeholder:"admin@company.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"adminName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["이름 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(n.Z,{id:"adminName",name:"adminName",type:"text",value:b.adminName,onChange:y,required:!0,className:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"adminPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["비밀번호 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(n.Z,{id:"adminPassword",name:"adminPassword",type:"password",value:b.adminPassword,onChange:y,required:!0,className:"w-full",placeholder:"8자 이상"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"adminPasswordConfirm",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["비밀번호 확인 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(n.Z,{id:"adminPasswordConfirm",name:"adminPasswordConfirm",type:"password",value:b.adminPasswordConfirm,onChange:y,required:!0,className:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"adminPhone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["휴대폰 번호 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(n.Z,{id:"adminPhone",name:"adminPhone",type:"tel",value:b.adminPhone,onChange:y,required:!0,className:"w-full",placeholder:"010-1234-5678"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"adminDepartment",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"부서"}),(0,s.jsx)(n.Z,{id:"adminDepartment",name:"adminDepartment",type:"text",value:b.adminDepartment,onChange:y,className:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"adminPosition",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"직책"}),(0,s.jsx)(n.Z,{id:"adminPosition",name:"adminPosition",type:"text",value:b.adminPosition,onChange:y,className:"w-full"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"기타 정보"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"registrationReason",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"가입 사유"}),(0,s.jsx)("textarea",{id:"registrationReason",name:"registrationReason",value:b.registrationReason,onChange:y,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"요청 사항"}),(0,s.jsx)("textarea",{id:"notes",name:"notes",value:b.notes,onChange:y,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]})]})]}),x&&(0,s.jsx)("div",{className:"rounded-md bg-red-50 dark:bg-red-900/20 p-4",children:(0,s.jsx)("div",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:x})}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,s.jsx)(i.Z,{type:"submit",disabled:o,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3",children:"등록 신청"}),(0,s.jsx)(i.Z,{type:"button",onClick:r,className:"px-8 bg-gray-300 hover:bg-gray-400 text-gray-800 py-3",children:"취소"})]})]})]})]}),h&&(0,s.jsx)("div",{className:"fixed inset-0 z-[60] overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/70 transition-opacity",onClick:()=>!o&&g(!1)}),(0,s.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 z-10",children:(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"신규 등록 신청 확인"})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["시스템 관리자에게 아래의 내용으로 신규 등록 신청이 됩니다.",(0,s.jsx)("br",{}),"승인 후 해당 업체의 다른 사용자들이 가입할 수 있습니다."]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 pb-2 border-b border-gray-200 dark:border-gray-700",children:["organization"===a?"환경측정업체":"고객사"," 정보"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["organization"===a?"법인명":"고객사명",":"]}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"사업자등록번호:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.businessNumber})]}),b.corporateNumber&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"법인등록번호:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.corporateNumber})]}),b.businessType&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"업종:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.businessType})]}),b.address&&(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"주소:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.address})]}),b.phone&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"전화번호:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.phone})]}),b.representative&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"대표자명:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.representative})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 pb-2 border-b border-gray-200 dark:border-gray-700",children:"관리자 정보"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"이름:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.adminName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"이메일:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.adminEmail})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"휴대폰:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.adminPhone})]}),b.adminDepartment&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"부서:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.adminDepartment})]}),b.adminPosition&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"직책:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.adminPosition})]})]})]}),b.registrationReason&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"가입 사유"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 p-3 rounded",children:b.registrationReason})]}),b.notes&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"요청 사항"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 p-3 rounded",children:b.notes})]}),x&&(0,s.jsx)("div",{className:"rounded-md bg-red-50 dark:bg-red-900/20 p-4",children:(0,s.jsx)("div",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:x})})]}),(0,s.jsxs)("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-6 py-4 flex gap-4",children:[(0,s.jsx)(i.Z,{onClick:j,disabled:o,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3",children:o?"처리 중...":"확인"}),(0,s.jsx)(i.Z,{onClick:()=>!o&&g(!1),disabled:o,className:"px-8 bg-gray-300 hover:bg-gray-400 text-gray-800 py-3",children:"취소"})]})]})]})})]})}function m(){let e=(0,d.useRouter)(),[a,r]=(0,t.useState)("select"),[m,x]=(0,t.useState)(null),[c,h]=(0,t.useState)(""),[g,b]=(0,t.useState)([]),[u,y]=(0,t.useState)(null),[p,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)(!1),[f,v]=(0,t.useState)({email:"",password:"",passwordConfirm:"",name:"",phone:"",department:"",position:""}),[w,C]=(0,t.useState)(""),[P,Z]=(0,t.useState)(!1),[D,S]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(c.length<2){b([]);return}let e=setTimeout(async()=>{j(!0);try{let e=await fetch("/api/companies/search?q=".concat(encodeURIComponent(c),"&type=").concat(m)),a=await e.json();b(a.companies||[])}catch(e){}finally{j(!1)}},300);return()=>clearTimeout(e)},[c,m]);let F=e=>{let{name:a,value:r}=e.target;v(e=>({...e,[a]:r}))},z=e=>{x(e),r("search")},T=e=>{y(e),r("form")},E=async a=>{if(a.preventDefault(),C(""),Z(!0),f.password!==f.passwordConfirm){C("비밀번호가 일치하지 않습니다."),Z(!1);return}if(f.password.length<8){C("비밀번호는 최소 8자 이상이어야 합니다."),Z(!1);return}try{let a="",r={email:f.email,password:f.password,name:f.name,phone:f.phone,department:f.department,position:f.position};"organization"===m?(a="/api/operators/register",r.businessNumber=null==u?void 0:u.businessNumber):"customer"===m&&(a="/api/auth/register",r.companyName=null==u?void 0:u.name,r.businessNumber=null==u?void 0:u.businessNumber);let s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await s.json();s.ok?(S(!0),setTimeout(()=>{e.push("/login")},3e3)):C(t.error||"회원가입에 실패했습니다.")}catch(e){C(e.message||"회원가입 중 오류가 발생했습니다.")}finally{Z(!1)}};return D?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"max-w-md w-full space-y-8 text-center",children:(0,s.jsxs)("div",{className:"rounded-lg bg-green-50 dark:bg-green-900/20 p-8",children:[(0,s.jsx)("div",{className:"text-green-600 dark:text-green-400 text-5xl mb-4",children:"✓"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"회원가입 신청 완료"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["관리자의 승인을 기다려주세요.",(0,s.jsx)("br",{}),"승인이 완료되면 등록하신 이메일로 안내 드리겠습니다."]}),(0,s.jsx)(i.Z,{onClick:()=>e.push("/login"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"로그인 페이지로 이동"})]})})}):"select"===a?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-2xl w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"회원가입"}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"가입 유형을 선택해주세요"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("button",{onClick:()=>z("organization"),className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow border-2 border-transparent hover:border-blue-500 text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFE2"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"환경측정업체"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"측정 대행 업체 소속 임직원"})]}),(0,s.jsxs)("button",{onClick:()=>z("customer"),className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow border-2 border-transparent hover:border-blue-500 text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFED"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"고객사"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"측정 의뢰 고객사 임직원"})]})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(l.default,{href:"/login",className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"← 로그인으로 돌아가기"})})]})}):"search"===a?(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"max-w-2xl w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>{r("select"),x(null),h(""),b([])},className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 mb-4",children:"← 뒤로 가기"}),(0,s.jsxs)("h2",{className:"text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:["organization"===m?"소속 환경측정업체":"소속 고객사"," 검색"]}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"회사명 또는 사업자등록번호를 입력하세요"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.Z,{type:"text",placeholder:"회사명 또는 사업자등록번호 입력",value:c,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 text-lg",autoFocus:!0}),p&&(0,s.jsx)("div",{className:"absolute right-3 top-3",children:(0,s.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-blue-500 border-t-transparent rounded-full"})})]}),g.length>0&&(0,s.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md divide-y divide-gray-200 dark:divide-gray-700 max-h-96 overflow-y-auto",children:g.map(e=>(0,s.jsxs)("button",{onClick:()=>T(e),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),!1===e.isActive&&(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"승인 대기 중"})]}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.businessNumber}),e.address&&(0,s.jsx)("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:e.address}),!1===e.isActive&&(0,s.jsx)("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-2",children:"\uD83D\uDCA1 임시 등록 가능 - 회사 승인 시 관리자가 확인합니다"})]},e.id))}),c.length>=2&&!p&&0===g.length&&(0,s.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"검색 결과가 없습니다."}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,s.jsx)(i.Z,{onClick:()=>{k(!0)},className:"w-full bg-gray-600 hover:bg-gray-700 text-white py-3",children:"+ 회사 신규 등록"})})]})]}),N&&(0,s.jsx)(o,{userType:m,onClose:()=>k(!1),onSuccess:e=>{k(!1),S(!0)},initialName:c})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("button",{onClick:()=>{r("search"),y(null)},className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 mb-4",children:"← 뒤로 가기"}),(0,s.jsx)("h2",{className:"text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"사용자 정보 입력"}),(0,s.jsxs)("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[(0,s.jsx)("span",{className:"font-semibold",children:"선택한 회사:"})," ",null==u?void 0:u.name]}),(0,s.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:null==u?void 0:u.businessNumber})]}),(null==u?void 0:u.isActive)===!1&&(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"승인 대기 중"})]}),(null==u?void 0:u.isActive)===!1&&(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-800",children:(0,s.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["\uD83D\uDCA1 ",(0,s.jsx)("strong",{children:"임시 등록 안내:"})," 이 회사는 현재 시스템 관리자의 승인을 기다리고 있습니다.",(0,s.jsx)("br",{}),"회원가입을 진행하시면 임시 등록되며, 회사 승인 시 해당 회사의 관리자가 귀하의 가입 신청을 확인하고 승인할 수 있습니다."]})})]})]}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-8",children:(0,s.jsxs)("form",{className:"space-y-6",onSubmit:E,children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["이메일 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(n.Z,{id:"email",name:"email",type:"email",required:!0,placeholder:"example@company.com",value:f.email,onChange:F,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["비밀번호 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(n.Z,{id:"password",name:"password",type:"password",required:!0,placeholder:"최소 8자 이상",value:f.password,onChange:F,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["비밀번호 확인 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(n.Z,{id:"passwordConfirm",name:"passwordConfirm",type:"password",required:!0,placeholder:"비밀번호 재입력",value:f.passwordConfirm,onChange:F,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["이름 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(n.Z,{id:"name",name:"name",type:"text",required:!0,placeholder:"홍길동",value:f.name,onChange:F,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"전화번호"}),(0,s.jsx)(n.Z,{id:"phone",name:"phone",type:"tel",placeholder:"010-1234-5678",value:f.phone,onChange:F,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"부서"}),(0,s.jsx)(n.Z,{id:"department",name:"department",type:"text",placeholder:"환경관리팀",value:f.department,onChange:F,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"직책"}),(0,s.jsx)(n.Z,{id:"position",name:"position",type:"text",placeholder:"대리",value:f.position,onChange:F,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),w&&(0,s.jsx)("div",{className:"rounded-md bg-red-50 dark:bg-red-900/20 p-4",children:(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:w})})})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(i.Z,{type:"submit",disabled:P,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3",children:P?"처리 중...":"회원가입 신청"}),(0,s.jsx)(i.Z,{type:"button",onClick:()=>e.push("/login"),className:"px-6 bg-gray-300 hover:bg-gray-400 text-gray-800 py-3",children:"취소"})]})]})})]})})}},6334:function(e,a,r){"use strict";r.d(a,{Z:function(){return l}});var s=r(7437);r(2265);let t={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},d={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function l(e){let{variant:a="primary",size:r="md",className:l="",...n}=e;return(0,s.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat(t[a]," ").concat(d[r]," ").concat(l),...n})}},2827:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});var s=r(7437);function t(e){let{className:a="",...r}=e;return(0,s.jsx)("input",{className:"".concat("rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20"," ").concat(a),...r})}r(2265)}},function(e){e.O(0,[3448,2971,2117,1744],function(){return e(e.s=6945)}),_N_E=e.O()}]);