"use strict";(()=>{var e={};e.id=391,e.ids=[391],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6575:(e,s,r)=>{r.r(s),r.d(s,{originalPathname:()=>b,patchFetch:()=>h,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>l,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>c});var t=r(49303),n=r(88716),i=r(60670),o=r(87070),u=r(20728);async function c(e){try{let{searchParams:s}=new URL(e.url),r=s.get("q")||"",a=s.get("type");if(!r||r.length<2)return o.NextResponse.json({companies:[]});let t=[];return"organization"===a?t=(await u._.organization.findMany({where:{OR:[{name:{contains:r}},{businessNumber:{contains:r}}]},select:{id:!0,name:!0,businessNumber:!0,address:!0,isActive:!0},take:10,orderBy:{name:"asc"}})).map(e=>({id:e.id,name:e.name,businessNumber:e.businessNumber||"",address:e.address||void 0,type:"organization",isActive:e.isActive})):"customer"===a&&(t=(await u._.customer.findMany({where:{OR:[{name:{contains:r}},{businessNumber:{contains:r}}]},select:{id:!0,name:!0,businessNumber:!0,address:!0,isActive:!0},take:10,orderBy:{name:"asc"}})).map(e=>({id:e.id,name:e.name,businessNumber:e.businessNumber||"",address:e.address||void 0,type:"customer",isActive:e.isActive}))),o.NextResponse.json({companies:t})}catch(e){return o.NextResponse.json({error:"회사 검색 중 오류가 발생했습니다."},{status:500})}}let d=new t.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/companies/search/route",pathname:"/api/companies/search",filename:"route",bundlePath:"app/api/companies/search/route"},resolvedPagePath:"C:\\Users\\User\\boaz\\frontend\\src\\app\\api\\companies\\search\\route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:l}=d,b="/api/companies/search/route";function h(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:m})}},20728:(e,s,r)=>{r.d(s,{_:()=>t});let a=require("@prisma/client"),t=global.prisma||new a.PrismaClient({log:["warn","error"]})}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[8948,5972],()=>r(6575));module.exports=a})();