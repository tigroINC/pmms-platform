"use strict";(()=>{var e={};e.id=1550,e.ids=[1550],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39805:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>h,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d});var n={};r.r(n),r.d(n,{GET:()=>p});var a=r(49303),i=r(88716),o=r(60670),s=r(87070),u=r(20728);async function p(e){try{let{searchParams:t}=new URL(e.url),r=t.get("token");if(!r)return s.NextResponse.json({error:"토큰이 필요합니다."},{status:400});let n=await u._.user.findFirst({where:{inviteToken:r,inviteTokenExpiry:{gte:new Date},status:"PENDING"},select:{id:!0,name:!0,email:!0,role:!0,organization:{select:{name:!0}},customer:{select:{name:!0}}}});if(!n)return s.NextResponse.json({error:"유효하지 않거나 만료된 초대 링크입니다."},{status:404});let a=n.customer?.name||n.organization?.name||"회사";return s.NextResponse.json({name:n.name,email:n.email,organizationName:a,roleName:{ORG_ADMIN:"조직 관리자",OPERATOR:"실무자",CUSTOMER_ADMIN:"고객사 관리자",CUSTOMER_USER:"고객사 사용자"}[n.role]||n.role})}catch(e){return s.NextResponse.json({error:"초대 정보 확인 중 오류가 발생했습니다."},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/verify-invite/route",pathname:"/api/auth/verify-invite",filename:"route",bundlePath:"app/api/auth/verify-invite/route"},resolvedPagePath:"C:\\Users\\User\\boaz\\frontend\\src\\app\\api\\auth\\verify-invite\\route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:d,serverHooks:c}=l,v="/api/auth/verify-invite/route";function h(){return(0,o.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:d})}},20728:(e,t,r)=>{r.d(t,{_:()=>a});let n=require("@prisma/client"),a=global.prisma||new n.PrismaClient({log:["warn","error"]})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[8948,5972],()=>r(39805));module.exports=n})();