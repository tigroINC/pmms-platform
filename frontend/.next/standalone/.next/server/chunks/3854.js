"use strict";exports.id=3854,exports.ids=[3854],exports.modules={78495:(e,r,a)=>{a.d(r,{Z:()=>i});var t=a(10326),d=a(17577),s=a(99837),l=a(89175);function i({isOpen:e,onClose:r,onSuccess:a,userType:i="organization"}){let[n,o]=(0,d.useState)({name:"",email:"",role:"customer"===i?"CUSTOMER_USER":"OPERATOR"}),[c,x]=(0,d.useState)(!1),[m,b]=(0,d.useState)(""),g=async e=>{if(e.preventDefault(),!n.name.trim()||!n.email.trim()){alert("이름과 이메일은 필수입니다.");return}try{x(!0);let e=await fetch("customer"===i?"/api/customer/staff/invite":"/api/org/staff/invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),r=await e.json();e.ok?b(r.inviteUrl):alert(r.error||"초대 링크 생성에 실패했습니다.")}catch(e){alert("초대 링크 생성 중 오류가 발생했습니다.")}finally{x(!1)}},h=()=>{o({name:"",email:"",role:"OPERATOR"}),b(""),a(),r()};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"직원 초대 링크 생성"})}),t.jsx("div",{className:"p-6",children:m?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:[t.jsx("p",{className:"text-sm text-green-800 dark:text-green-200 mb-2",children:"✅ 초대 링크가 생성되었습니다!"}),t.jsx("div",{className:"bg-white dark:bg-gray-700 p-3 rounded border border-gray-200 dark:border-gray-600 break-all text-sm text-gray-900 dark:text-white",children:m})]}),(0,t.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[t.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-semibold mb-2",children:"\uD83D\uDCCB 다음 단계:"}),(0,t.jsxs)("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 ml-4 list-decimal",children:[t.jsx("li",{children:"위 링크를 복사하여 직원에게 전달하세요 (카카오톡, 이메일 등)"}),t.jsx("li",{children:"직원이 링크를 통해 비밀번호를 설정하면 계정이 활성화됩니다"}),(0,t.jsxs)("li",{children:["현재 직원 목록에 ",t.jsx("strong",{children:"비활성 상태"}),"로 표시됩니다"]})]}),t.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mt-2",children:"⚠️ 링크는 24시간 동안 유효합니다."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(m),alert("링크가 복사되었습니다!")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"\uD83D\uDCCB 링크 복사"}),t.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"닫기"})]})]}):(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["이름 ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(l.Z,{type:"text",value:n.name,onChange:e=>o({...n,name:e.target.value}),placeholder:"홍길동",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["이메일 ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(l.Z,{type:"email",value:n.email,onChange:e=>o({...n,email:e.target.value}),placeholder:"hong@example.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["역할 ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"space-y-2",children:"customer"===i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("label",{className:"flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[t.jsx("input",{type:"radio",name:"role",value:"CUSTOMER_ADMIN",checked:"CUSTOMER_ADMIN"===n.role,onChange:e=>o({...n,role:e.target.value}),className:"mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"고객사 관리자"}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"직원 관리, 데이터 조회 등 모든 권한"})]})]}),(0,t.jsxs)("label",{className:"flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[t.jsx("input",{type:"radio",name:"role",value:"CUSTOMER_USER",checked:"CUSTOMER_USER"===n.role,onChange:e=>o({...n,role:e.target.value}),className:"mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"고객사 사용자"}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"데이터 조회만 가능 (읽기 전용)"})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("label",{className:"flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[t.jsx("input",{type:"radio",name:"role",value:"ORG_ADMIN",checked:"ORG_ADMIN"===n.role,onChange:e=>o({...n,role:e.target.value}),className:"mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"조직 관리자"}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"직원 관리, 고객사 관리 등 모든 권한"})]})]}),(0,t.jsxs)("label",{className:"flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[t.jsx("input",{type:"radio",name:"role",value:"OPERATOR",checked:"OPERATOR"===n.role,onChange:e=>o({...n,role:e.target.value}),className:"mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"실무자"}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"측정 데이터 입력, 담당 고객사 관리"})]})]})]})})]}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:t.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"\uD83D\uDCA1 초대 링크가 생성되며, 직원이 링크를 통해 가입 완료 후 담당 고객사를 할당할 수 있습니다."})}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[t.jsx("button",{type:"button",onClick:h,disabled:c,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50",children:"취소"}),t.jsx(s.Z,{type:"submit",disabled:c,className:"flex-1",children:c?"생성 중...":"초대 링크 생성"})]})]})})]})}):null}},99837:(e,r,a)=>{a.d(r,{Z:()=>l});var t=a(10326);a(17577);let d={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},s={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function l({variant:e="primary",size:r="md",className:a="",...l}){return t.jsx("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${d[e]} ${s[r]} ${a}`,...l})}},89175:(e,r,a)=>{a.d(r,{Z:()=>d});var t=a(10326);function d({className:e="",...r}){return t.jsx("input",{className:`rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20 ${e}`,...r})}a(17577)},73881:(e,r,a)=>{a.r(r),a.d(r,{default:()=>d});var t=a(66621);let d=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};