(()=>{var e={};e.id=6973,e.ids=[6973],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},50701:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l}),t(86331),t(92553),t(35866);var s=t(23191),a=t(88716),n=t(37922),o=t.n(n),i=t(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l=["",{children:["change-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,86331)),"C:\\Users\\User\\boaz\\frontend\\src\\app\\change-password\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,92553)),"C:\\Users\\User\\boaz\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\User\\boaz\\frontend\\src\\app\\change-password\\page.tsx"],p="/change-password/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/change-password/page",pathname:"/change-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},98347:(e,r,t)=>{Promise.resolve().then(t.bind(t,43199))},43199:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(10326),a=t(17577),n=t(77109),o=t(35047),i=t(99837),d=t(89175);function l(){let{data:e}=(0,n.useSession)(),r=(0,o.useRouter)(),[t,l]=(0,a.useState)(""),[c,p]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[g,b]=(0,a.useState)(""),f=async e=>{if(e.preventDefault(),b(""),c!==u){b("새 비밀번호가 일치하지 않습니다.");return}if(c.length<8){b("비밀번호는 최소 8자 이상이어야 합니다.");return}try{h(!0);let e=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:t,newPassword:c})}),s=await e.json();e.ok?(alert("비밀번호가 변경되었습니다. 다시 로그인해주세요."),await (0,n.signOut)({redirect:!1}),r.push("/login")):b(s.error||"비밀번호 변경에 실패했습니다.")}catch(e){b("비밀번호 변경 중 오류가 발생했습니다.")}finally{h(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"비밀번호 변경 필요"}),(0,s.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["관리자가 비밀번호를 초기화했습니다.",s.jsx("br",{}),"새로운 비밀번호로 변경해주세요."]})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:f,children:[(0,s.jsxs)("div",{className:"rounded-md shadow-sm space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"현재 비밀번호 (기본: 12345678)"}),s.jsx(d.Z,{id:"current-password",name:"current-password",type:"password",required:!0,value:t,onChange:e=>l(e.target.value),placeholder:"현재 비밀번호"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"새 비밀번호"}),s.jsx(d.Z,{id:"new-password",name:"new-password",type:"password",required:!0,value:c,onChange:e=>p(e.target.value),placeholder:"새 비밀번호 (최소 8자)"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"새 비밀번호 확인"}),s.jsx(d.Z,{id:"confirm-password",name:"confirm-password",type:"password",required:!0,value:u,onChange:e=>m(e.target.value),placeholder:"새 비밀번호 확인"})]})]}),g&&s.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/20 p-4",children:s.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:g})}),s.jsx("div",{children:s.jsx(i.Z,{type:"submit",disabled:x,className:"w-full",children:x?"변경 중...":"비밀번호 변경"})})]})]})})}},99837:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var s=t(10326);t(17577);let a={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},n={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function o({variant:e="primary",size:r="md",className:t="",...o}){return s.jsx("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${a[e]} ${n[r]} ${t}`,...o})}},89175:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(10326);function a({className:e="",...r}){return s.jsx("input",{className:`rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20 ${e}`,...r})}t(17577)},86331:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`C:\Users\User\boaz\frontend\src\app\change-password\page.tsx#default`)},73881:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(66621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,9975,6621,5736],()=>t(50701));module.exports=s})();