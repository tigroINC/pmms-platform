(()=>{var e={};e.id=8093,e.ids=[8093],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},26015:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(98519),t(92553),t(35866);var a=t(23191),r=t(88716),n=t(37922),i=t.n(n),d=t(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let o=["",{children:["org",{children:["draft-customers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,98519)),"C:\\Users\\User\\boaz\\frontend\\src\\app\\org\\draft-customers\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,92553)),"C:\\Users\\User\\boaz\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\User\\boaz\\frontend\\src\\app\\org\\draft-customers\\page.tsx"],m="/org/draft-customers/page",h={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/org/draft-customers/page",pathname:"/org/draft-customers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79708:(e,s,t)=>{Promise.resolve().then(t.bind(t,30276))},83855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},30276:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(10326),r=t(17577),n=t(21120),i=t(35047),d=t(99837),l=t(89175),o=t(83855),c=t(62881);let m=(0,c.Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),h=(0,c.Z)("file-stack",[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]]);var u=t(98091);function x(){let{user:e}=(0,n.a)(),s=(0,i.useRouter)(),[t,c]=(0,r.useState)([]),[x,p]=(0,r.useState)(!0),[g,b]=(0,r.useState)(!1),[f,y]=(0,r.useState)({name:"",businessNumber:"",address:"",phone:""}),v=async()=>{try{p(!0);let e=await fetch("/api/org/draft-customers"),s=await e.json();c(s.customers||[])}catch(e){}finally{p(!1)}},j=async e=>{if(e.preventDefault(),!f.name){alert("고객사명은 필수입니다.");return}try{let e=await fetch("/api/org/draft-customers/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(e.ok)alert("임시 고객이 등록되었습니다."),b(!1),y({name:"",businessNumber:"",address:"",phone:""}),v();else{let s=await e.json();alert(s.error||"등록 실패")}}catch(e){alert("오류가 발생했습니다.")}},k=async(e,s)=>{if(confirm(`"${s}" 고객을 삭제하시겠습니까?`))try{let s=await fetch(`/api/customers/${e}`,{method:"DELETE"});if(s.ok)alert("삭제되었습니다."),v();else{let e=await s.json();alert(e.error||"삭제 실패")}}catch(e){alert("오류가 발생했습니다.")}};return x?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"로딩 중..."})}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"임시 고객 관리"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"연결 전에 고객사 정보를 미리 등록하고 굴뚝을 관리할 수 있습니다."})]}),(0,a.jsxs)(d.Z,{onClick:()=>b(!0),children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"신규 고객 등록"]})]}),0===t.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx(m,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"등록된 임시 고객이 없습니다."})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg mb-1",children:e.name}),a.jsx("span",{className:"inline-block px-2 py-0.5 text-xs rounded bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300",children:"임시 등록"})]})}),e.businessNumber&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["사업자번호: ",e.businessNumber]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["굴뚝: ",(0,a.jsxs)("strong",{children:[e.stackCount,"개"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.Z,{size:"sm",variant:"secondary",onClick:()=>s.push(`/org/draft-customers/${e.customerId}/stacks`),className:"flex-1",children:[a.jsx(h,{className:"h-3 w-3 mr-1"}),"굴뚝 관리"]}),a.jsx(d.Z,{size:"sm",variant:"secondary",onClick:()=>k(e.customerId,e.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:a.jsx(u.Z,{className:"h-3 w-3"})})]})]},e.customerId))}),g&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"임시 고객 등록"}),(0,a.jsxs)("form",{onSubmit:j,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["고객사명 ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(l.Z,{value:f.name,onChange:e=>y({...f,name:e.target.value}),placeholder:"예: 삼성전자",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"사업자등록번호"}),a.jsx(l.Z,{value:f.businessNumber,onChange:e=>y({...f,businessNumber:e.target.value}),placeholder:"123-45-67890"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"주소"}),a.jsx(l.Z,{value:f.address,onChange:e=>y({...f,address:e.target.value}),placeholder:"경기도 화성시..."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"전화번호"}),a.jsx(l.Z,{value:f.phone,onChange:e=>y({...f,phone:e.target.value}),placeholder:"02-1234-5678"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-6",children:[a.jsx(d.Z,{type:"button",variant:"secondary",onClick:()=>{b(!1),y({name:"",businessNumber:"",address:"",phone:""})},className:"flex-1",children:"취소"}),a.jsx(d.Z,{type:"submit",className:"flex-1",children:"등록"})]})]})]})})]})}},99837:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(10326);t(17577);let r={primary:"bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",secondary:"border border-gray-300 text-gray-900 hover:bg-gray-50 dark:border-white/20 dark:text-white dark:hover:bg-white/10",ghost:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"},n={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-11 px-5 text-base"};function i({variant:e="primary",size:s="md",className:t="",...i}){return a.jsx("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${r[e]} ${n[s]} ${t}`,...i})}},89175:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(10326);function r({className:e="",...s}){return a.jsx("input",{className:`rounded-md border bg-transparent px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-white/20 ${e}`,...s})}t(17577)},98519:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\User\boaz\frontend\src\app\org\draft-customers\page.tsx#default`)},73881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(66621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,9975,6621,5736],()=>t(26015));module.exports=a})();