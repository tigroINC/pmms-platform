(()=>{var e={};e.id=1889,e.ids=[1889],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},19053:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>g,originalPathname:()=>o,pages:()=>c,routeModule:()=>p,tree:()=>x}),a(56843),a(92553),a(35866);var r=a(23191),s=a(88716),d=a(37922),i=a.n(d),l=a(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);a.d(t,n);let x=["",{children:["org",{children:["staff",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,56843)),"C:\\Users\\User\\boaz\\frontend\\src\\app\\org\\staff\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,92553)),"C:\\Users\\User\\boaz\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\User\\boaz\\frontend\\src\\app\\org\\staff\\page.tsx"],o="/org/staff/page",g={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/org/staff/page",pathname:"/org/staff",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:x}})},5542:(e,t,a)=>{Promise.resolve().then(a.bind(a,30871))},30871:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(10326),s=a(17577),d=a(77109),i=a(35047),l=a(90434),n=a(99837),x=a(89175),c=a(78495),o=a(33326);function g(){let{data:e,status:t}=(0,d.useSession)();(0,i.useRouter)();let{selectedOrg:a}=(0,o.o)(),[g,p]=(0,s.useState)([]),[m,h]=(0,s.useState)(!0),[u,y]=(0,s.useState)(!1),[b,f]=(0,s.useState)(""),[j,v]=(0,s.useState)("ALL"),[k,N]=(0,s.useState)("ALL"),w=async()=>{if(a)try{h(!0);let e=new URLSearchParams({search:b,status:j,role:k,organizationId:a.id}),t=await fetch(`/api/org/staff?${e}`),r=await t.json();t.ok?p(r.staff||[]):alert(r.error||"직원 목록을 불러오는데 실패했습니다.")}catch(e){alert("직원 목록을 불러오는데 실패했습니다.")}finally{h(!1)}},D=e=>r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${{SUPER_ADMIN:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",ORG_ADMIN:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",OPERATOR:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}[e]||"bg-gray-100 text-gray-800"}`,children:{SUPER_ADMIN:"시스템 관리자",ORG_ADMIN:"조직 관리자",OPERATOR:"실무자"}[e]||e});return m?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"로딩 중..."})})}):(0,r.jsxs)("section",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-2.5",children:[r.jsx("h1",{className:"text-lg font-semibold mb-2",children:"직원 관리"}),(0,r.jsxs)("div",{className:"flex flex-wrap items-end gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-0.5",children:"검색"}),r.jsx(x.Z,{className:"text-sm h-8",style:{width:"352px",minWidth:"352px"},type:"text",placeholder:"이름, 이메일 검색",value:b,onChange:e=>f(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-0.5",children:"상태"}),(0,r.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"text-sm h-8 border border-gray-300 dark:border-gray-600 rounded-md px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"ALL",children:"전체"}),r.jsx("option",{value:"ACTIVE",children:"활성"}),r.jsx("option",{value:"INACTIVE",children:"비활성"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-0.5",children:"역할"}),(0,r.jsxs)("select",{value:k,onChange:e=>N(e.target.value),className:"text-sm h-8 border border-gray-300 dark:border-gray-600 rounded-md px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"ALL",children:"전체"}),r.jsx("option",{value:"ORG_ADMIN",children:"조직 관리자"}),r.jsx("option",{value:"OPERATOR",children:"실무자"})]})]}),r.jsx("div",{className:"flex gap-1.5 mb-1.5 ml-auto",children:r.jsx(n.Z,{size:"sm",onClick:()=>y(!0),children:"+ 직원 초대"})})]})]}),r.jsx("div",{className:"hidden md:block rounded-lg border overflow-x-auto max-h-[calc(100vh-180px)] overflow-y-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-white/10 sticky top-0 z-10",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800",children:"상태"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800",children:"이름"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800",children:"이메일"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800",children:"역할"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800",children:"부서/직책"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800",children:"담당 고객사"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800",children:"마지막 로그인"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800",children:"액션"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:0===g.length?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"직원이 없습니다."})}):g.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.isActive?"활성":"비활성"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900 dark:text-white",children:e.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D(e.role)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.department&&e.position?`${e.department} / ${e.position}`:e.department||e.position||"-"}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[e._count.assignedCustomers,"개"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.lastLoginAt?new Date(e.lastLoginAt).toLocaleDateString("ko-KR"):"없음"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsx(l.default,{href:`/org/staff/${e.id}`,className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"상세"})})]},e.id))})]})}),r.jsx("div",{className:"md:hidden space-y-3",children:0===g.length?r.jsx("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-6 text-center text-gray-500",children:"직원이 없습니다."}):g.map(e=>(0,r.jsxs)("div",{className:"rounded-lg border bg-white/50 dark:bg-white/5 p-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.isActive?"활성":"비활성"}),r.jsx(l.default,{href:`/org/staff/${e.id}`,className:"text-xs text-blue-600 hover:underline",children:"상세"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsxs)("div",{className:"col-span-2",children:[r.jsx("span",{className:"text-gray-500",children:"\uD83D\uDC64 이름:"})," ",r.jsx("span",{className:"font-medium",children:e.name})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[r.jsx("span",{className:"text-gray-500",children:"\uD83D\uDCE7 이메일:"})," ",e.email]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-gray-500",children:"\uD83C\uDFF7️ 역할:"})," ",D(e.role)]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-gray-500",children:"\uD83C\uDFE2 부서/직책:"})," ",e.department&&e.position?`${e.department} / ${e.position}`:e.department||e.position||"-"]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-gray-500",children:"\uD83D\uDCCD 담당:"})," ",e._count.assignedCustomers,"개"]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-gray-500",children:"\uD83D\uDD50 로그인:"})," ",e.lastLoginAt?new Date(e.lastLoginAt).toLocaleDateString("ko-KR"):"없음"]})]})]},e.id))}),u&&r.jsx(c.Z,{isOpen:u,onClose:()=>y(!1),onSuccess:()=>{y(!1),w()}})]})}},56843:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`C:\Users\User\boaz\frontend\src\app\org\staff\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,9975,6621,5736,3854],()=>a(19053));module.exports=r})();